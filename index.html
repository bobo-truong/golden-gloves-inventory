<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.3">
  <style type="text/css">
    body {background-color: #0d0e11}
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4689cc; -webkit-text-stroke: #4689cc}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #8cd3fe; -webkit-text-stroke: #8cd3fe}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #c27e65; -webkit-text-stroke: #c27e65}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4689cc; -webkit-text-stroke: #4689cc; background-color: #171818}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d7378; -webkit-text-stroke: #6d7378}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #36c0a0; -webkit-text-stroke: #36c0a0}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca; min-height: 16.0px}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #71c083; -webkit-text-stroke: #71c083}
    span.s1 {font-kerning: none; background-color: #171818}
    span.s2 {font-kerning: none; color: #8cd3fe; background-color: #171818; -webkit-text-stroke: 0px #8cd3fe}
    span.s3 {font-kerning: none; color: #6d6d6d; background-color: #171818; -webkit-text-stroke: 0px #6d6d6d}
    span.s4 {font-kerning: none; color: #cacaca; background-color: #171818; -webkit-text-stroke: 0px #cacaca}
    span.s5 {font-kerning: none; color: #c27e65; background-color: #171818; -webkit-text-stroke: 0px #c27e65}
    span.s6 {font-kerning: none; color: #4689cc; background-color: #171818; -webkit-text-stroke: 0px #4689cc}
    span.s7 {font-kerning: none; color: #d4d4d4; background-color: #171818; -webkit-text-stroke: 0px #d4d4d4}
    span.s8 {font-kerning: none; color: #a7c598; background-color: #171818; -webkit-text-stroke: 0px #a7c598}
    span.s9 {font-kerning: none; color: #71c083; background-color: #171818; -webkit-text-stroke: 0px #71c083}
    span.s10 {font-kerning: none; color: #b76ff7; background-color: #171818; -webkit-text-stroke: 0px #b76ff7}
    span.s11 {font-kerning: none; color: #cacaca; -webkit-text-stroke: 0px #cacaca}
    span.s12 {font-kerning: none; color: #6d6d6d; -webkit-text-stroke: 0px #6d6d6d}
    span.s13 {font-kerning: none}
    span.s14 {font-kerning: none; color: #8cd3fe; -webkit-text-stroke: 0px #8cd3fe}
    span.s15 {font-kerning: none; color: #c27e65; -webkit-text-stroke: 0px #c27e65}
    span.s16 {font-kerning: none; color: #36c0a0; background-color: #171818; -webkit-text-stroke: 0px #36c0a0}
    span.s17 {font-kerning: none; color: #f67c30; background-color: #171818; -webkit-text-stroke: 0px #f67c30}
    span.s18 {font-kerning: none; color: #6d7378; background-color: #171818; -webkit-text-stroke: 0px #6d7378}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!doctype</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"vi"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">Golden Gloves – Quản lý tồn kho</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">:root</span><span class="s7">{</span><span class="s1">--bg:</span><span class="s4">#0d1219</span><span class="s7">;</span><span class="s1">--panel:</span><span class="s4">#161b25</span><span class="s7">;</span><span class="s1">--muted:</span><span class="s4">#2a2f3a</span><span class="s7">;</span><span class="s1">--text:</span><span class="s4">#e5e7eb</span><span class="s7">;</span><span class="s1">--sub:</span><span class="s4">#9ca3af</span><span class="s7">;</span><span class="s1">--accent:</span><span class="s4">#b8860b</span><span class="s7">;</span><span class="s1">--accent-2:</span><span class="s4">#0284c7</span><span class="s7">;</span><span class="s1">--danger:</span><span class="s4">#dc2626</span><span class="s7">;</span><span class="s1">--ok:</span><span class="s4">#16a34a</span><span class="s7">;</span><span class="s1">--warn:</span><span class="s4">#d97706</span><span class="s7">;</span><span class="s1">--shadow:</span><span class="s8">0</span><span class="s4"> </span><span class="s8">10px</span><span class="s4"> </span><span class="s8">24px</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s8">0</span><span class="s7">,</span><span class="s8">0</span><span class="s7">,</span><span class="s8">0</span><span class="s7">,</span><span class="s8">.25</span><span class="s5">)</span><span class="s7">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">*</span><span class="s7">{</span><span class="s2">box-sizing:</span><span class="s1">border-box</span><span class="s7">;</span><span class="s2">margin:</span><span class="s8">0</span><span class="s7">;</span><span class="s2">padding:</span><span class="s8">0</span><span class="s7">;</span><span class="s2">font-family:</span><span class="s1">system-ui</span><span class="s7">,</span><span class="s1">-apple-system</span><span class="s7">,</span><span class="s1">Segoe</span><span class="s4"> </span><span class="s1">UI</span><span class="s7">,</span><span class="s1">Roboto</span><span class="s7">,</span><span class="s1">Helvetica</span><span class="s7">,</span><span class="s1">Arial</span><span class="s7">,</span><span class="s1">sans-serif</span><span class="s7">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">body</span><span class="s7">{</span><span class="s2">background:</span><span class="s1">radial-gradient(</span><span class="s8">1200px</span><span class="s4"> </span><span class="s8">800px</span><span class="s4"> </span><span class="s1">at</span><span class="s4"> </span><span class="s8">80%</span><span class="s4"> </span><span class="s8">-20%</span><span class="s7">,</span><span class="s4"> </span><span class="s1">rgba(</span><span class="s8">184</span><span class="s7">,</span><span class="s8">134</span><span class="s7">,</span><span class="s8">11</span><span class="s7">,</span><span class="s8">.08</span><span class="s1">)</span><span class="s7">,</span><span class="s4"> </span><span class="s1">transparent</span><span class="s4"> </span><span class="s8">58%</span><span class="s1">)</span><span class="s7">,</span><span class="s1">radial-gradient(</span><span class="s8">1000px</span><span class="s4"> </span><span class="s8">700px</span><span class="s4"> </span><span class="s1">at</span><span class="s4"> </span><span class="s8">-20%</span><span class="s4"> </span><span class="s8">110%</span><span class="s7">,</span><span class="s4"> </span><span class="s1">rgba(</span><span class="s8">2</span><span class="s7">,</span><span class="s8">132</span><span class="s7">,</span><span class="s8">199</span><span class="s7">,</span><span class="s8">.07</span><span class="s1">)</span><span class="s7">,</span><span class="s4"> </span><span class="s1">transparent</span><span class="s4"> </span><span class="s8">58%</span><span class="s1">)</span><span class="s7">,</span><span class="s1">var(--bg)</span><span class="s7">;</span><span class="s2">color:</span><span class="s1">var(--text)</span><span class="s7">;</span><span class="s2">font-size:</span><span class="s8">14px</span><span class="s7">;</span><span class="s2">line-height:</span><span class="s8">1.6</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">header</span><span class="s7">{</span><span class="s1">background:</span><span class="s5">rgba(</span><span class="s8">13</span><span class="s7">,</span><span class="s8">18</span><span class="s7">,</span><span class="s8">25</span><span class="s7">,</span><span class="s8">.7</span><span class="s5">)</span><span class="s7">;</span><span class="s1">backdrop-filter:</span><span class="s5">blur(</span><span class="s8">10px</span><span class="s5">)</span><span class="s7">;</span><span class="s1">border-bottom:</span><span class="s8">1px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> </span><span class="s5">var(--muted)</span><span class="s7">;</span><span class="s1">position:</span><span class="s5">sticky</span><span class="s7">;</span><span class="s1">top:</span><span class="s8">0</span><span class="s7">;</span><span class="s1">z-index:</span><span class="s8">10</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.wrap</span><span class="s7">{</span><span class="s1">max-width:</span><span class="s8">1200px</span><span class="s7">;</span><span class="s1">margin:</span><span class="s8">0</span><span class="s4"> </span><span class="s5">auto</span><span class="s7">;</span><span class="s1">padding:</span><span class="s8">0</span><span class="s4"> </span><span class="s8">18px</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.brand</span><span class="s7">{</span><span class="s1">display:</span><span class="s5">flex</span><span class="s7">;</span><span class="s1">align-items:</span><span class="s5">center</span><span class="s7">;</span><span class="s1">gap:</span><span class="s8">12px</span><span class="s7">;</span><span class="s1">padding:</span><span class="s8">12px</span><span class="s4"> </span><span class="s8">0</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.brand</span><span class="s4"> </span><span class="s6">h1</span><span class="s7">{</span><span class="s1">font-size:</span><span class="s8">18px</span><span class="s7">;</span><span class="s1">font-weight:</span><span class="s8">600</span><span class="s7">;</span><span class="s1">color:</span><span class="s5">var(--accent)</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.logo</span><span class="s7">{</span><span class="s1">background:</span><span class="s5">var(--accent)</span><span class="s7">;</span><span class="s1">padding:</span><span class="s8">4px</span><span class="s7">;</span><span class="s1">border-radius:</span><span class="s8">50%</span><span class="s7">;</span><span class="s1">display:</span><span class="s5">grid</span><span class="s7">;</span><span class="s1">place-items:</span><span class="s5">center</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.tabs</span><span class="s7">{</span><span class="s1">display:</span><span class="s5">flex</span><span class="s7">;</span><span class="s1">gap:</span><span class="s8">4px</span><span class="s7">;</span><span class="s1">border-bottom:</span><span class="s8">1px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> </span><span class="s5">transparent</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.tab</span><span class="s7">{</span><span class="s1">padding:</span><span class="s8">8px</span><span class="s4"> </span><span class="s8">16px</span><span class="s7">;</span><span class="s1">cursor:</span><span class="s5">pointer</span><span class="s7">;</span><span class="s1">border-bottom:</span><span class="s8">2px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> </span><span class="s5">transparent</span><span class="s7">;</span><span class="s1">opacity:</span><span class="s8">.7</span><span class="s7">;</span><span class="s1">font-weight:</span><span class="s8">500</span><span class="s7">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.tab:hover</span><span class="s7">{</span><span class="s2">opacity:</span><span class="s8">1</span><span class="s7">;</span><span class="s2">color:</span><span class="s1">var(--accent-2)</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.tab.active</span><span class="s7">{</span><span class="s1">opacity:</span><span class="s8">1</span><span class="s7">;</span><span class="s1">border-bottom-color:</span><span class="s5">var(--accent)</span><span class="s7">;</span><span class="s1">color:</span><span class="s5">var(--accent)</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">main</span><span class="s7">{</span><span class="s1">padding:</span><span class="s8">24px</span><span class="s4"> </span><span class="s8">0</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">section</span><span class="s7">{</span><span class="s1">display:</span><span class="s5">grid</span><span class="s7">;</span><span class="s1">gap:</span><span class="s8">24px</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.panel</span><span class="s7">{</span><span class="s1">background:</span><span class="s5">var(--panel)</span><span class="s7">;</span><span class="s1">border:</span><span class="s8">1px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> </span><span class="s5">var(--muted)</span><span class="s7">;</span><span class="s1">border-radius:</span><span class="s8">12px</span><span class="s7">;</span><span class="s1">box-shadow:</span><span class="s5">var(--shadow)</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.hd</span><span class="s7">{</span><span class="s1">display:</span><span class="s5">flex</span><span class="s7">;</span><span class="s1">align-items:</span><span class="s5">center</span><span class="s7">;</span><span class="s1">padding:</span><span class="s8">12px</span><span class="s4"> </span><span class="s8">18px</span><span class="s7">;</span><span class="s1">border-bottom:</span><span class="s8">1px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> </span><span class="s5">var(--muted)</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.hd</span><span class="s4"> </span><span class="s6">h2</span><span class="s7">{</span><span class="s1">font-size:</span><span class="s8">16px</span><span class="s7">;</span><span class="s1">font-weight:</span><span class="s8">600</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.bd</span><span class="s7">{</span><span class="s1">padding:</span><span class="s8">18px</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.grid</span><span class="s7">{</span><span class="s1">display:</span><span class="s5">grid</span><span class="s7">;</span><span class="s1">gap:</span><span class="s8">18px</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.cols-2</span><span class="s7">{</span><span class="s1">grid-template-columns:</span><span class="s5">repeat(</span><span class="s8">2</span><span class="s7">,</span><span class="s8">1fr</span><span class="s5">)</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.cols-3</span><span class="s7">{</span><span class="s1">grid-template-columns:</span><span class="s5">repeat(</span><span class="s8">3</span><span class="s7">,</span><span class="s8">1fr</span><span class="s5">)</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.cols-4</span><span class="s7">{</span><span class="s1">grid-template-columns:</span><span class="s5">repeat(</span><span class="s8">4</span><span class="s7">,</span><span class="s8">1fr</span><span class="s5">)</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.cols-5</span><span class="s7">{</span><span class="s1">grid-template-columns:</span><span class="s5">repeat(</span><span class="s8">5</span><span class="s7">,</span><span class="s8">1fr</span><span class="s5">)</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.row</span><span class="s7">{</span><span class="s1">display:</span><span class="s5">flex</span><span class="s7">;</span><span class="s1">flex-wrap:</span><span class="s5">wrap</span><span class="s7">;</span><span class="s1">gap:</span><span class="s8">18px</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.row</span><span class="s7">&gt;</span><span class="s6">*</span><span class="s7">{</span><span class="s1">flex:</span><span class="s8">1</span><span class="s7">;</span><span class="s1">min-width:</span><span class="s8">150px</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.flex</span><span class="s7">{</span><span class="s1">display:</span><span class="s5">flex</span><span class="s7">;</span><span class="s1">align-items:</span><span class="s5">center</span><span class="s7">;</span><span class="s1">gap:</span><span class="s8">10px</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.stat</span><span class="s7">{</span><span class="s1">padding:</span><span class="s8">12px</span><span class="s7">;</span><span class="s1">text-align:</span><span class="s5">center</span><span class="s7">;</span><span class="s1">border-right:</span><span class="s8">1px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> </span><span class="s5">var(--muted)</span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">.stat:last-child</span><span class="s7">{</span><span class="s2">border:</span><span class="s5">none</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.stat</span><span class="s4"> </span><span class="s6">.k</span><span class="s7">{</span><span class="s1">font-size:</span><span class="s8">12px</span><span class="s7">;</span><span class="s1">color:</span><span class="s5">var(--sub)</span><span class="s7">;</span><span class="s1">margin-bottom:</span><span class="s8">4px</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.stat</span><span class="s4"> </span><span class="s6">.v</span><span class="s7">{</span><span class="s1">font-size:</span><span class="s8">20px</span><span class="s7">;</span><span class="s1">font-weight:</span><span class="s8">700</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">table</span><span class="s7">{</span><span class="s1">width:</span><span class="s8">100%</span><span class="s7">;</span><span class="s1">border-collapse:</span><span class="s5">collapse</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">th</span><span class="s7">,</span><span class="s6">td</span><span class="s7">{</span><span class="s1">padding:</span><span class="s8">10px</span><span class="s4"> </span><span class="s8">12px</span><span class="s7">;</span><span class="s1">text-align:</span><span class="s5">left</span><span class="s7">;</span><span class="s1">border-bottom:</span><span class="s8">1px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> </span><span class="s5">var(--muted)</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">th</span><span class="s7">{</span><span class="s1">font-size:</span><span class="s8">12px</span><span class="s7">;</span><span class="s1">font-weight:</span><span class="s8">600</span><span class="s7">;</span><span class="s1">color:</span><span class="s5">var(--sub)</span><span class="s7">;</span><span class="s1">text-transform:</span><span class="s5">uppercase</span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">tbody</span><span class="s4"> </span><span class="s1">tr:hover</span><span class="s7">{</span><span class="s2">background:</span><span class="s5">rgba(</span><span class="s8">255</span><span class="s7">,</span><span class="s8">255</span><span class="s7">,</span><span class="s8">255</span><span class="s7">,</span><span class="s8">.03</span><span class="s5">)</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.btn</span><span class="s7">,</span><span class="s6">label.btn</span><span class="s7">{</span><span class="s1">display:</span><span class="s5">inline-block</span><span class="s7">;</span><span class="s1">padding:</span><span class="s8">8px</span><span class="s4"> </span><span class="s8">16px</span><span class="s7">;</span><span class="s1">border:</span><span class="s8">1px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> </span><span class="s5">var(--muted)</span><span class="s7">;</span><span class="s1">border-radius:</span><span class="s8">8px</span><span class="s7">;</span><span class="s1">background:</span><span class="s5">var(--bg)</span><span class="s7">;</span><span class="s1">color:</span><span class="s5">var(--text)</span><span class="s7">;</span><span class="s1">cursor:</span><span class="s5">pointer</span><span class="s7">;</span><span class="s1">font-weight:</span><span class="s8">500</span><span class="s7">;</span><span class="s1">transition:</span><span class="s5">all</span><span class="s4"> </span><span class="s8">.2s</span><span class="s7">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.btn:hover</span><span class="s7">,</span><span class="s6">label.btn:hover</span><span class="s7">{</span><span class="s2">border-color:</span><span class="s1">var(--accent)</span><span class="s7">;</span><span class="s2">color:</span><span class="s1">var(--accent)</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.btn.primary</span><span class="s7">{</span><span class="s1">background:</span><span class="s5">var(--accent)</span><span class="s7">;</span><span class="s1">border-color:</span><span class="s5">var(--accent)</span><span class="s7">;</span><span class="s1">color:</span><span class="s4">#fff</span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">.btn.primary:hover</span><span class="s7">{</span><span class="s2">opacity:</span><span class="s8">.9</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.btn.danger</span><span class="s7">{</span><span class="s1">background:</span><span class="s5">var(--danger)</span><span class="s7">;</span><span class="s1">border-color:</span><span class="s5">var(--danger)</span><span class="s7">;</span><span class="s1">color:</span><span class="s4">#fff</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.btn.ghost</span><span class="s7">{</span><span class="s1">background:</span><span class="s5">transparent</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.btn</span><span class="s4"> </span><span class="s6">svg</span><span class="s7">{</span><span class="s1">vertical-align:</span><span class="s5">middle</span><span class="s7">;</span><span class="s1">margin-right:</span><span class="s8">6px</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">input</span><span class="s7">,</span><span class="s6">select</span><span class="s7">{</span><span class="s1">width:</span><span class="s8">100%</span><span class="s7">;</span><span class="s1">padding:</span><span class="s8">8px</span><span class="s4"> </span><span class="s8">12px</span><span class="s7">;</span><span class="s1">background:</span><span class="s5">var(--bg)</span><span class="s7">;</span><span class="s1">border:</span><span class="s8">1px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> </span><span class="s5">var(--muted)</span><span class="s7">;</span><span class="s1">border-radius:</span><span class="s8">8px</span><span class="s7">;</span><span class="s1">color:</span><span class="s5">var(--text)</span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">input:focus</span><span class="s7">,</span><span class="s1">select:focus</span><span class="s7">{</span><span class="s2">outline:</span><span class="s5">none</span><span class="s7">;</span><span class="s2">border-color:</span><span class="s5">var(--accent-2)</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">label</span><span class="s7">{</span><span class="s1">font-size:</span><span class="s8">13px</span><span class="s7">;</span><span class="s1">font-weight:</span><span class="s8">500</span><span class="s7">;</span><span class="s1">margin-bottom:</span><span class="s8">6px</span><span class="s7">;</span><span class="s1">display:</span><span class="s5">block</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.right</span><span class="s7">{</span><span class="s1">margin-left:</span><span class="s5">auto</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.search</span><span class="s7">{</span><span class="s1">position:</span><span class="s5">relative</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.search</span><span class="s4"> </span><span class="s6">input</span><span class="s7">{</span><span class="s1">padding-left:</span><span class="s8">36px</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.search</span><span class="s4"> </span><span class="s6">svg</span><span class="s7">{</span><span class="s1">position:</span><span class="s5">absolute</span><span class="s7">;</span><span class="s1">left:</span><span class="s8">10px</span><span class="s7">;</span><span class="s1">top:</span><span class="s8">50%</span><span class="s7">;</span><span class="s1">transform:</span><span class="s5">translateY(</span><span class="s8">-50%</span><span class="s5">)</span><span class="s7">;</span><span class="s1">opacity:</span><span class="s8">.6</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.hint</span><span class="s7">{</span><span class="s1">font-size:</span><span class="s8">12px</span><span class="s7">;</span><span class="s1">color:</span><span class="s5">var(--sub)</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.tag</span><span class="s7">{</span><span class="s1">font-size:</span><span class="s8">11px</span><span class="s7">;</span><span class="s1">opacity:</span><span class="s8">.9</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.foot</span><span class="s7">{</span><span class="s1">display:</span><span class="s5">flex</span><span class="s7">;</span><span class="s1">gap:</span><span class="s8">10px</span><span class="s7">;</span><span class="s1">justify-content:</span><span class="s5">flex-end</span><span class="s7">;</span><span class="s1">border-top:</span><span class="s8">1px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> </span><span class="s5">var(--muted)</span><span class="s7">;</span><span class="s1">padding:</span><span class="s8">12px</span><span class="s4"> </span><span class="s8">18px</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.badge</span><span class="s7">{</span><span class="s1">padding:</span><span class="s8">3px</span><span class="s4"> </span><span class="s8">8px</span><span class="s7">;</span><span class="s1">border-radius:</span><span class="s8">8px</span><span class="s7">;</span><span class="s1">border:</span><span class="s8">1px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> #2a2f3a</span><span class="s7">;</span><span class="s1">font-size:</span><span class="s8">11px</span><span class="s7">;</span><span class="s1">color:</span><span class="s4">#cbd5e1</span><span class="s7">;</span><span class="s1">background:</span><span class="s4">#0d1219</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.nowrap</span><span class="s7">{</span><span class="s1">white-space:</span><span class="s5">nowrap</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.center</span><span class="s7">{</span><span class="s1">display:</span><span class="s5">grid</span><span class="s7">;</span><span class="s1">place-items:</span><span class="s5">center</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.hidden</span><span class="s7">{</span><span class="s1">display:</span><span class="s5">none</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.toast</span><span class="s7">{</span><span class="s1">position:</span><span class="s5">fixed</span><span class="s7">;</span><span class="s1">right:</span><span class="s8">18px</span><span class="s7">;</span><span class="s1">bottom:</span><span class="s8">18px</span><span class="s7">;</span><span class="s1">background:</span><span class="s4">#0b1220</span><span class="s7">;</span><span class="s1">border:</span><span class="s8">1px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> #203047</span><span class="s7">;</span><span class="s1">color:</span><span class="s4">#dce7f8</span><span class="s7">;</span><span class="s1">padding:</span><span class="s8">12px</span><span class="s4"> </span><span class="s8">14px</span><span class="s7">;</span><span class="s1">border-radius:</span><span class="s8">12px</span><span class="s7">;</span><span class="s1">box-shadow:</span><span class="s5">var(--shadow)</span><span class="s7">;</span><span class="s1">opacity:</span><span class="s8">0</span><span class="s7">;</span><span class="s1">transform:</span><span class="s5">translateY(</span><span class="s8">12px</span><span class="s5">)</span><span class="s7">;</span><span class="s1">transition:</span><span class="s5">all</span><span class="s4"> </span><span class="s8">.3s</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s6">.toast.show</span><span class="s7">{</span><span class="s1">opacity:</span><span class="s8">1</span><span class="s7">;</span><span class="s1">transform:</span><span class="s5">none</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s7">[</span><span class="s5">data-theme</span><span class="s7">=</span><span class="s9">"light"</span><span class="s7">]{</span><span class="s1">--bg:</span><span class="s4">#f5f7fb</span><span class="s7">;</span><span class="s1">--panel:</span><span class="s4">#ffffff</span><span class="s7">;</span><span class="s1">--muted:</span><span class="s4">#e2e8f0</span><span class="s7">;</span><span class="s1">--text:</span><span class="s4">#0b1220</span><span class="s7">;</span><span class="s1">--sub:</span><span class="s4">#4b5563</span><span class="s7">;</span><span class="s1">--accent:</span><span class="s4">#b8860b</span><span class="s7">;</span><span class="s1">--accent-2:</span><span class="s4">#0284c7</span><span class="s7">;</span><span class="s1">--danger:</span><span class="s4">#dc2626</span><span class="s7">;</span><span class="s1">--ok:</span><span class="s4">#16a34a</span><span class="s7">;</span><span class="s1">--warn:</span><span class="s4">#d97706</span><span class="s7">;</span><span class="s1">--shadow:</span><span class="s8">0</span><span class="s4"> </span><span class="s8">10px</span><span class="s4"> </span><span class="s8">24px</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s8">0</span><span class="s7">,</span><span class="s8">0</span><span class="s7">,</span><span class="s8">0</span><span class="s7">,</span><span class="s8">.08</span><span class="s5">)</span><span class="s7">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s7">[</span><span class="s1">data-theme</span><span class="s7">=</span><span class="s9">"light"</span><span class="s7">]</span><span class="s4"> </span><span class="s6">body</span><span class="s7">{</span><span class="s2">background:</span><span class="s1">radial-gradient(</span><span class="s8">1200px</span><span class="s4"> </span><span class="s8">800px</span><span class="s4"> </span><span class="s1">at</span><span class="s4"> </span><span class="s8">80%</span><span class="s4"> </span><span class="s8">-20%</span><span class="s7">,</span><span class="s4"> </span><span class="s1">rgba(</span><span class="s8">184</span><span class="s7">,</span><span class="s8">134</span><span class="s7">,</span><span class="s8">11</span><span class="s7">,</span><span class="s8">.12</span><span class="s1">)</span><span class="s7">,</span><span class="s4"> </span><span class="s1">transparent</span><span class="s4"> </span><span class="s8">58%</span><span class="s1">)</span><span class="s7">,</span><span class="s1">radial-gradient(</span><span class="s8">1000px</span><span class="s4"> </span><span class="s8">700px</span><span class="s4"> </span><span class="s1">at</span><span class="s4"> </span><span class="s8">-20%</span><span class="s4"> </span><span class="s8">110%</span><span class="s7">,</span><span class="s4"> </span><span class="s1">rgba(</span><span class="s8">2</span><span class="s7">,</span><span class="s8">132</span><span class="s7">,</span><span class="s8">199</span><span class="s7">,</span><span class="s8">.10</span><span class="s1">)</span><span class="s7">,</span><span class="s4"> </span><span class="s1">transparent</span><span class="s4"> </span><span class="s8">58%</span><span class="s1">)</span><span class="s7">,</span><span class="s1">var(--bg)</span><span class="s7">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span>@</span><span class="s6">media</span><span class="s4"> </span><span class="s6">print</span><span class="s7">{</span><span class="s4">header,.tabs,.toast,.foot,#tabs,.btn{</span><span class="s1">display:</span><span class="s5">none</span><span class="s10">!important</span><span class="s7">}</span><span class="s6">body</span><span class="s7">{</span><span class="s1">background:</span><span class="s4">#fff</span><span class="s7">;</span><span class="s1">color:</span><span class="s4">#000</span><span class="s7">}</span><span class="s6">.panel</span><span class="s7">{</span><span class="s1">border:</span><span class="s5">none</span><span class="s7">;</span><span class="s1">box-shadow:</span><span class="s5">none</span><span class="s7">}</span><span class="s6">.wrap</span><span class="s7">{</span><span class="s1">max-width:</span><span class="s8">100%</span><span class="s7">}</span><span class="s6">main</span><span class="s7">{</span><span class="s1">padding:</span><span class="s8">0</span><span class="s7">}</span><span class="s6">table</span><span class="s7">{</span><span class="s1">font-size:</span><span class="s8">12px</span><span class="s7">}</span><span class="s6">th</span><span class="s7">,</span><span class="s6">td</span><span class="s7">{</span><span class="s1">padding:</span><span class="s8">8px</span><span class="s7">}</span><span class="s4">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s1">header</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"wrap"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"brand"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s1">class</span><span class="s3">=</span><span class="s5">"logo"</span><span class="s4"> </span><span class="s1">aria-hidden</span><span class="s3">=</span><span class="s5">"true"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s3">&lt;</span><span class="s6">svg</span><span class="s4"> </span><span class="s2">width</span><span class="s3">=</span><span class="s1">"22"</span><span class="s4"> </span><span class="s2">height</span><span class="s3">=</span><span class="s1">"22"</span><span class="s4"> </span><span class="s2">viewBox</span><span class="s3">=</span><span class="s1">"0 0 24 24"</span><span class="s4"> </span><span class="s2">fill</span><span class="s3">=</span><span class="s1">"none"</span><span class="s4"> </span><span class="s2">xmlns</span><span class="s3">=</span><span class="s1">"http://www.w3.org/2000/svg"</span><span class="s3">&gt;&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M6 12c0-3 2-7 6-7s6 4 6 7-2 7-6 7-6-4-6-7Z"</span><span class="s4"> </span><span class="s2">stroke</span><span class="s3">=</span><span class="s1">"#2a1f08"</span><span class="s4"> </span><span class="s2">stroke-width</span><span class="s3">=</span><span class="s1">"2"</span><span class="s3">/&gt;&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M7 11c1 0 2 1 2 2v2c0 1 1 1 2 1s2 0 2-1v-2c0-1 1-2 2-2"</span><span class="s4"> </span><span class="s2">stroke</span><span class="s3">=</span><span class="s1">"#000"</span><span class="s4"> </span><span class="s2">stroke-opacity</span><span class="s3">=</span><span class="s1">".35"</span><span class="s4"> </span><span class="s2">stroke-width</span><span class="s3">=</span><span class="s1">"2"</span><span class="s3">/&gt;&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M6 12c0-3 2-7 6-7s6 4 6 7-2 7-6 7-6-4-6-7Z"</span><span class="s4"> </span><span class="s2">fill</span><span class="s3">=</span><span class="s1">"#f0cd69"</span><span class="s4"> </span><span class="s2">fill-opacity</span><span class="s3">=</span><span class="s1">".95"</span><span class="s3">/&gt;&lt;/</span><span class="s6">svg</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s3">&gt;</span><span class="s1">Golden Gloves – Quản lý tồn kho</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"right badge"</span><span class="s3">&gt;</span><span class="s1">Bản đơn máy – dữ liệu lưu cục bộ</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn right"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"theme-toggle"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"margin-left:auto"</span><span class="s3">&gt;</span><span class="s4">Đổi theme</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"tabs"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"tabs"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"tab active"</span><span class="s1"> </span><span class="s2">data-tab</span><span class="s3">=</span><span class="s5">"dash"</span><span class="s3">&gt;</span><span class="s1">Tổng quan</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"tab"</span><span class="s1"> </span><span class="s2">data-tab</span><span class="s3">=</span><span class="s5">"products"</span><span class="s3">&gt;</span><span class="s1">Sản phẩm</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"tab"</span><span class="s1"> </span><span class="s2">data-tab</span><span class="s3">=</span><span class="s5">"txn"</span><span class="s3">&gt;</span><span class="s1">Giao dịch</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"tab"</span><span class="s1"> </span><span class="s2">data-tab</span><span class="s3">=</span><span class="s5">"count"</span><span class="s3">&gt;</span><span class="s1">Kiểm kê</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"tab"</span><span class="s1"> </span><span class="s2">data-tab</span><span class="s3">=</span><span class="s5">"report"</span><span class="s3">&gt;</span><span class="s1">Báo cáo</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"tab"</span><span class="s1"> </span><span class="s2">data-tab</span><span class="s3">=</span><span class="s5">"settings"</span><span class="s3">&gt;</span><span class="s1">Cài đặt</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;/</span><span class="s1">header</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s1">main</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">section</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"wrap"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"view-dash"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"grid cols-3"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"panel"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hd"</span><span class="s3">&gt;&lt;</span><span class="s6">h2</span><span class="s3">&gt;</span><span class="s4">Chỉ số nhanh</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bd grid cols-3"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"stat"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"k"</span><span class="s3">&gt;</span><span class="s4">Số SKU</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"v"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"stat-skus"</span><span class="s3">&gt;</span><span class="s4">0</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"stat"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"k"</span><span class="s3">&gt;</span><span class="s4">Tổng tồn (hộp)</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"v"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"stat-stock"</span><span class="s3">&gt;</span><span class="s4">0</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"stat"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"k"</span><span class="s3">&gt;</span><span class="s4">Giá trị tồn (VND)</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"v"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"stat-value"</span><span class="s3">&gt;</span><span class="s4">0</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"panel"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"hd"</span><span class="s3">&gt;&lt;</span><span class="s6">h2</span><span class="s3">&gt;</span><span class="s1">Cảnh báo đặt hàng</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"bd"</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"low-list"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"hint"</span><span class="s3">&gt;</span><span class="s1">Chưa có cảnh báo.</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"panel"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"hd"</span><span class="s3">&gt;&lt;</span><span class="s6">h2</span><span class="s3">&gt;</span><span class="s1">Hạn dùng sắp tới (FEFO)</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"bd"</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"exp-list"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"hint"</span><span class="s3">&gt;</span><span class="s1">Chưa có lô hàng nào có hạn dùng.</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"panel"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hd"</span><span class="s3">&gt;&lt;</span><span class="s6">h2</span><span class="s3">&gt;</span><span class="s4">Tồn kho hiện tại</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"search"</span><span class="s3">&gt;&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"dash-search"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"Tìm theo tên, SKU, size, màu…"</span><span class="s3">/&gt;&lt;</span><span class="s6">svg</span><span class="s4"> </span><span class="s2">width</span><span class="s3">=</span><span class="s1">"18"</span><span class="s4"> </span><span class="s2">height</span><span class="s3">=</span><span class="s1">"18"</span><span class="s4"> </span><span class="s2">viewBox</span><span class="s3">=</span><span class="s1">"0 0 24 24"</span><span class="s4"> </span><span class="s2">fill</span><span class="s3">=</span><span class="s1">"none"</span><span class="s4"> </span><span class="s2">xmlns</span><span class="s3">=</span><span class="s1">"http://www.w3.org/2000/svg"</span><span class="s3">&gt;&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M21 21l-4.2-4.2"</span><span class="s4"> </span><span class="s2">stroke</span><span class="s3">=</span><span class="s1">"#8aa0b8"</span><span class="s4"> </span><span class="s2">stroke-width</span><span class="s3">=</span><span class="s1">"2"</span><span class="s4"> </span><span class="s2">stroke-linecap</span><span class="s3">=</span><span class="s1">"round"</span><span class="s3">/&gt;&lt;</span><span class="s6">circle</span><span class="s4"> </span><span class="s2">cx</span><span class="s3">=</span><span class="s1">"11"</span><span class="s4"> </span><span class="s2">cy</span><span class="s3">=</span><span class="s1">"11"</span><span class="s4"> </span><span class="s2">r</span><span class="s3">=</span><span class="s1">"7"</span><span class="s4"> </span><span class="s2">stroke</span><span class="s3">=</span><span class="s1">"#8aa0b8"</span><span class="s4"> </span><span class="s2">stroke-width</span><span class="s3">=</span><span class="s1">"2"</span><span class="s3">/&gt;&lt;/</span><span class="s6">svg</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"bd"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"row cols-5"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"margin-bottom:10px"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s1">select</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"f-size"</span><span class="s3">&gt;&lt;</span><span class="s1">option</span><span class="s4"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">""</span><span class="s3">&gt;</span><span class="s4">Size (tất cả)</span><span class="s3">&lt;/</span><span class="s1">option</span><span class="s3">&gt;&lt;</span><span class="s1">option</span><span class="s3">&gt;</span><span class="s4">S</span><span class="s3">&lt;/</span><span class="s1">option</span><span class="s3">&gt;&lt;</span><span class="s1">option</span><span class="s3">&gt;</span><span class="s4">M</span><span class="s3">&lt;/</span><span class="s1">option</span><span class="s3">&gt;&lt;</span><span class="s1">option</span><span class="s3">&gt;</span><span class="s4">L</span><span class="s3">&lt;/</span><span class="s1">option</span><span class="s3">&gt;&lt;</span><span class="s1">option</span><span class="s3">&gt;</span><span class="s4">XL</span><span class="s3">&lt;/</span><span class="s1">option</span><span class="s3">&gt;&lt;/</span><span class="s1">select</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s1">select</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"f-color"</span><span class="s3">&gt;&lt;</span><span class="s1">option</span><span class="s4"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">""</span><span class="s3">&gt;</span><span class="s4">Màu (tất cả)</span><span class="s3">&lt;/</span><span class="s1">option</span><span class="s3">&gt;&lt;</span><span class="s1">option</span><span class="s3">&gt;</span><span class="s4">Xanh</span><span class="s3">&lt;/</span><span class="s1">option</span><span class="s3">&gt;&lt;</span><span class="s1">option</span><span class="s3">&gt;</span><span class="s4">Trắng</span><span class="s3">&lt;/</span><span class="s1">option</span><span class="s3">&gt;&lt;</span><span class="s1">option</span><span class="s3">&gt;</span><span class="s4">Đen</span><span class="s3">&lt;/</span><span class="s1">option</span><span class="s3">&gt;&lt;/</span><span class="s1">select</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s1">select</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"f-material"</span><span class="s3">&gt;&lt;</span><span class="s1">option</span><span class="s4"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">""</span><span class="s3">&gt;</span><span class="s4">Chất liệu</span><span class="s3">&lt;/</span><span class="s1">option</span><span class="s3">&gt;&lt;</span><span class="s1">option</span><span class="s3">&gt;</span><span class="s4">Nitrile</span><span class="s3">&lt;/</span><span class="s1">option</span><span class="s3">&gt;&lt;</span><span class="s1">option</span><span class="s3">&gt;</span><span class="s4">Latex</span><span class="s3">&lt;/</span><span class="s1">option</span><span class="s3">&gt;&lt;/</span><span class="s1">select</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s1">select</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"f-status"</span><span class="s3">&gt;&lt;</span><span class="s1">option</span><span class="s4"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">""</span><span class="s3">&gt;</span><span class="s4">Tình trạng</span><span class="s3">&lt;/</span><span class="s1">option</span><span class="s3">&gt;&lt;</span><span class="s1">option</span><span class="s4"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"low"</span><span class="s3">&gt;</span><span class="s4">Cần đặt</span><span class="s3">&lt;/</span><span class="s1">option</span><span class="s3">&gt;&lt;</span><span class="s1">option</span><span class="s4"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"ok"</span><span class="s3">&gt;</span><span class="s4">Đủ</span><span class="s3">&lt;/</span><span class="s1">option</span><span class="s3">&gt;&lt;/</span><span class="s1">select</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">select</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"f-warehouse"</span><span class="s3">&gt;&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">""</span><span class="s3">&gt;</span><span class="s1">Kho (tất cả)</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;&lt;/</span><span class="s6">select</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">style</span><span class="s3">=</span><span class="s5">"overflow-x:auto"</span><span class="s3">&gt;&lt;</span><span class="s6">table</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"stock-table"</span><span class="s3">&gt;&lt;</span><span class="s6">thead</span><span class="s3">&gt;&lt;</span><span class="s6">tr</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s1">SKU</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s1">Tên sản phẩm</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s1">Thuộc tính</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"nowrap"</span><span class="s3">&gt;</span><span class="s1">Tồn (hộp)</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s1">Điểm đặt</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s1">Giá vốn/hộp</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s1">Giá trị tồn</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s1">Lô/HSD gần nhất</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;/</span><span class="s6">tr</span><span class="s3">&gt;&lt;/</span><span class="s6">thead</span><span class="s3">&gt;&lt;</span><span class="s6">tbody</span><span class="s3">&gt;&lt;/</span><span class="s6">tbody</span><span class="s3">&gt;&lt;/</span><span class="s6">table</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">section</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">section</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"wrap hidden"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"view-products"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"panel"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hd"</span><span class="s3">&gt;&lt;</span><span class="s6">h2</span><span class="s3">&gt;</span><span class="s4">Danh mục sản phẩm</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex right"</span><span class="s3">&gt;&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"btn-export-products"</span><span class="s3">&gt;</span><span class="s4">Xuất CSV</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;&lt;</span><span class="s6">label</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn ghost"</span><span class="s4"> </span><span class="s2">for</span><span class="s3">=</span><span class="s1">"import-products"</span><span class="s3">&gt;</span><span class="s4">Nhập CSV</span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"import-products"</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"file"</span><span class="s4"> </span><span class="s2">accept</span><span class="s3">=</span><span class="s1">".csv"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"display:none"</span><span class="s3">&gt;&lt;/</span><span class="s6">label</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s1">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"bd"</span><span class="s3">&gt;&lt;</span><span class="s1">div</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s5">"overflow-x:auto"</span><span class="s3">&gt;&lt;</span><span class="s1">table</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"prod-table"</span><span class="s3">&gt;&lt;</span><span class="s1">thead</span><span class="s3">&gt;&lt;</span><span class="s1">tr</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">SKU</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">Tên</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">Size</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">Màu</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">Chất liệu</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">Độ dày (mil)</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">Găng/hộp</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">Hộp/thùng</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">Giá vốn</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">Giá bán</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">Điểm đặt</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;/</span><span class="s1">tr</span><span class="s3">&gt;&lt;/</span><span class="s1">thead</span><span class="s3">&gt;&lt;</span><span class="s1">tbody</span><span class="s3">&gt;&lt;/</span><span class="s1">tbody</span><span class="s3">&gt;&lt;/</span><span class="s1">table</span><span class="s3">&gt;&lt;/</span><span class="s1">div</span><span class="s3">&gt;&lt;/</span><span class="s1">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"foot"</span><span class="s3">&gt;&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn primary"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"btn-new-prod"</span><span class="s3">&gt;</span><span class="s4">+ Thêm sản phẩm</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"panel"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"prod-form-panel"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"display:none"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"hd"</span><span class="s3">&gt;&lt;</span><span class="s6">h2</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"prod-form-title"</span><span class="s3">&gt;</span><span class="s1">Thêm sản phẩm</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s11"><span class="Apple-converted-space">        </span></span><span class="s12">&lt;</span><span class="s13">div</span><span class="s11"> </span><span class="s14">class</span><span class="s12">=</span><span class="s15">"bd"</span><span class="s12">&gt;&lt;</span><span class="s13">form</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"prod-form"</span><span class="s11"> </span><span class="s14">class</span><span class="s12">=</span><span class="s15">"grid"</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s11"> </span><span class="s14">class</span><span class="s12">=</span><span class="s15">"row cols-3"</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">SKU</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">input</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"p-sku"</span><span class="s11"> </span><span class="s14">required</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Tên sản phẩm</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">input</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"p-name"</span><span class="s11"> </span><span class="s14">required</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Chất liệu</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">select</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"p-material"</span><span class="s12">&gt;&lt;</span><span class="s13">option</span><span class="s12">&gt;</span><span class="s11">Nitrile</span><span class="s12">&lt;/</span><span class="s13">option</span><span class="s12">&gt;&lt;</span><span class="s13">option</span><span class="s12">&gt;</span><span class="s11">Latex</span><span class="s12">&lt;/</span><span class="s13">option</span><span class="s12">&gt;&lt;/</span><span class="s13">select</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s11"> </span><span class="s14">class</span><span class="s12">=</span><span class="s15">"row cols-4"</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Size</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">select</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"p-size"</span><span class="s12">&gt;&lt;</span><span class="s13">option</span><span class="s12">&gt;</span><span class="s11">S</span><span class="s12">&lt;/</span><span class="s13">option</span><span class="s12">&gt;&lt;</span><span class="s13">option</span><span class="s12">&gt;</span><span class="s11">M</span><span class="s12">&lt;/</span><span class="s13">option</span><span class="s12">&gt;&lt;</span><span class="s13">option</span><span class="s12">&gt;</span><span class="s11">L</span><span class="s12">&lt;/</span><span class="s13">option</span><span class="s12">&gt;&lt;</span><span class="s13">option</span><span class="s12">&gt;</span><span class="s11">XL</span><span class="s12">&lt;/</span><span class="s13">option</span><span class="s12">&gt;&lt;/</span><span class="s13">select</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Màu</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">select</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"p-color"</span><span class="s12">&gt;&lt;</span><span class="s13">option</span><span class="s12">&gt;</span><span class="s11">Xanh</span><span class="s12">&lt;/</span><span class="s13">option</span><span class="s12">&gt;&lt;</span><span class="s13">option</span><span class="s12">&gt;</span><span class="s11">Trắng</span><span class="s12">&lt;/</span><span class="s13">option</span><span class="s12">&gt;&lt;</span><span class="s13">option</span><span class="s12">&gt;</span><span class="s11">Đen</span><span class="s12">&lt;/</span><span class="s13">option</span><span class="s12">&gt;&lt;/</span><span class="s13">select</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Độ dày (mil)</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">input</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"p-thick"</span><span class="s11"> </span><span class="s14">type</span><span class="s12">=</span><span class="s15">"number"</span><span class="s11"> </span><span class="s14">min</span><span class="s12">=</span><span class="s15">"0"</span><span class="s11"> </span><span class="s14">step</span><span class="s12">=</span><span class="s15">"0.1"</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Điểm đặt hàng</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">input</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"p-reorder"</span><span class="s11"> </span><span class="s14">type</span><span class="s12">=</span><span class="s15">"number"</span><span class="s11"> </span><span class="s14">min</span><span class="s12">=</span><span class="s15">"0"</span><span class="s11"> </span><span class="s14">value</span><span class="s12">=</span><span class="s15">"0"</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s11"> </span><span class="s14">class</span><span class="s12">=</span><span class="s15">"row cols-3"</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Găng/hộp</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">input</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"p-perbox"</span><span class="s11"> </span><span class="s14">type</span><span class="s12">=</span><span class="s15">"number"</span><span class="s11"> </span><span class="s14">min</span><span class="s12">=</span><span class="s15">"1"</span><span class="s11"> </span><span class="s14">value</span><span class="s12">=</span><span class="s15">"100"</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Hộp/thùng</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">input</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"p-percarton"</span><span class="s11"> </span><span class="s14">type</span><span class="s12">=</span><span class="s15">"number"</span><span class="s11"> </span><span class="s14">min</span><span class="s12">=</span><span class="s15">"1"</span><span class="s11"> </span><span class="s14">value</span><span class="s12">=</span><span class="s15">"10"</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Giá vốn/hộp (VND)</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">input</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"p-cost"</span><span class="s11"> </span><span class="s14">type</span><span class="s12">=</span><span class="s15">"number"</span><span class="s11"> </span><span class="s14">min</span><span class="s12">=</span><span class="s15">"0"</span><span class="s11"> </span><span class="s14">value</span><span class="s12">=</span><span class="s15">"0"</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s11"> </span><span class="s14">class</span><span class="s12">=</span><span class="s15">"row cols-2"</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Giá bán/hộp (VND)</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">input</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"p-price"</span><span class="s11"> </span><span class="s14">type</span><span class="s12">=</span><span class="s15">"number"</span><span class="s11"> </span><span class="s14">min</span><span class="s12">=</span><span class="s15">"0"</span><span class="s11"> </span><span class="s14">value</span><span class="s12">=</span><span class="s15">"0"</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Ghi chú</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">input</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"p-note"</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">input</span><span class="s11"> </span><span class="s14">type</span><span class="s12">=</span><span class="s15">"hidden"</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"p-id"</span><span class="s12">&gt;&lt;/</span><span class="s13">form</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"foot"</span><span class="s3">&gt;&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"btn-cancel-prod"</span><span class="s3">&gt;</span><span class="s4">Hủy</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn primary"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"btn-save-prod"</span><span class="s3">&gt;</span><span class="s4">Lưu</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">section</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">section</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"wrap hidden"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"view-txn"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"panel"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"hd"</span><span class="s3">&gt;&lt;</span><span class="s6">h2</span><span class="s3">&gt;</span><span class="s1">Ghi nhận giao dịch kho</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s11"><span class="Apple-converted-space">        </span></span><span class="s12">&lt;</span><span class="s13">div</span><span class="s11"> </span><span class="s14">class</span><span class="s12">=</span><span class="s15">"bd"</span><span class="s12">&gt;&lt;</span><span class="s13">form</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"txn-form"</span><span class="s11"> </span><span class="s14">class</span><span class="s12">=</span><span class="s15">"grid"</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s11"> </span><span class="s14">class</span><span class="s12">=</span><span class="s15">"row cols-4"</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Loại giao dịch</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">select</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"t-type"</span><span class="s12">&gt;&lt;</span><span class="s13">option</span><span class="s11"> </span><span class="s14">value</span><span class="s12">=</span><span class="s15">"IN"</span><span class="s12">&gt;</span><span class="s11">Nhập kho</span><span class="s12">&lt;/</span><span class="s13">option</span><span class="s12">&gt;&lt;</span><span class="s13">option</span><span class="s11"> </span><span class="s14">value</span><span class="s12">=</span><span class="s15">"OUT"</span><span class="s12">&gt;</span><span class="s11">Xuất kho</span><span class="s12">&lt;/</span><span class="s13">option</span><span class="s12">&gt;&lt;</span><span class="s13">option</span><span class="s11"> </span><span class="s14">value</span><span class="s12">=</span><span class="s15">"ADJ"</span><span class="s12">&gt;</span><span class="s11">Điều chỉnh</span><span class="s12">&lt;/</span><span class="s13">option</span><span class="s12">&gt;&lt;/</span><span class="s13">select</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Sản phẩm</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">select</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"t-prod"</span><span class="s12">&gt;&lt;/</span><span class="s13">select</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Số lượng</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s11"> </span><span class="s14">class</span><span class="s12">=</span><span class="s15">"flex"</span><span class="s11"> </span><span class="s14">style</span><span class="s12">=</span><span class="s15">"gap:8px"</span><span class="s12">&gt;&lt;</span><span class="s13">input</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"t-qty"</span><span class="s11"> </span><span class="s14">type</span><span class="s12">=</span><span class="s15">"number"</span><span class="s11"> </span><span class="s14">min</span><span class="s12">=</span><span class="s15">"1"</span><span class="s11"> </span><span class="s14">value</span><span class="s12">=</span><span class="s15">"1"</span><span class="s11"> </span><span class="s14">style</span><span class="s12">=</span><span class="s15">"flex:1"</span><span class="s12">&gt;&lt;</span><span class="s13">select</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"t-unit"</span><span class="s12">&gt;&lt;</span><span class="s13">option</span><span class="s11"> </span><span class="s14">value</span><span class="s12">=</span><span class="s15">"BOX"</span><span class="s12">&gt;</span><span class="s11">Hộp</span><span class="s12">&lt;/</span><span class="s13">option</span><span class="s12">&gt;&lt;</span><span class="s13">option</span><span class="s11"> </span><span class="s14">value</span><span class="s12">=</span><span class="s15">"CARTON"</span><span class="s12">&gt;</span><span class="s11">Thùng</span><span class="s12">&lt;/</span><span class="s13">option</span><span class="s12">&gt;&lt;/</span><span class="s13">select</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Ngày</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">input</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"t-date"</span><span class="s11"> </span><span class="s14">type</span><span class="s12">=</span><span class="s15">"date"</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s11"> </span><span class="s14">class</span><span class="s12">=</span><span class="s15">"row cols-4"</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Số lô</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">input</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"t-lot"</span><span class="s11"> </span><span class="s14">placeholder</span><span class="s12">=</span><span class="s15">"VD: GGVN-2408-01"</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Hạn dùng</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">input</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"t-exp"</span><span class="s11"> </span><span class="s14">type</span><span class="s12">=</span><span class="s15">"date"</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Kho</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">input</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"t-warehouse"</span><span class="s11"> </span><span class="s14">placeholder</span><span class="s12">=</span><span class="s15">"VD: Kho Q12"</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s12">&gt;&lt;</span><span class="s13">label</span><span class="s12">&gt;</span><span class="s11">Ghi chú</span><span class="s12">&lt;/</span><span class="s13">label</span><span class="s12">&gt;&lt;</span><span class="s13">input</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"t-note"</span><span class="s11"> </span><span class="s14">placeholder</span><span class="s12">=</span><span class="s15">"VD: nhập từ NCC A"</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;/</span><span class="s13">form</span><span class="s12">&gt;&lt;</span><span class="s13">div</span><span class="s11"> </span><span class="s14">class</span><span class="s12">=</span><span class="s15">"hint"</span><span class="s12">&gt;</span><span class="s11">Định mức: </span><span class="s12">&lt;</span><span class="s13">span</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"unit-hint"</span><span class="s12">&gt;</span><span class="s11">—</span><span class="s12">&lt;/</span><span class="s13">span</span><span class="s12">&gt;</span><span class="s11"> | FEFO: </span><span class="s12">&lt;</span><span class="s13">span</span><span class="s11"> </span><span class="s14">id</span><span class="s12">=</span><span class="s15">"fefo-hint"</span><span class="s12">&gt;</span><span class="s11">—</span><span class="s12">&lt;/</span><span class="s13">span</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;&lt;/</span><span class="s13">div</span><span class="s12">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"foot"</span><span class="s3">&gt;&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"btn-clear-txn"</span><span class="s3">&gt;</span><span class="s4">Xóa trắng</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn primary"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"btn-add-txn"</span><span class="s3">&gt;</span><span class="s4">Thêm giao dịch</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"panel"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"hd"</span><span class="s3">&gt;&lt;</span><span class="s6">h2</span><span class="s3">&gt;</span><span class="s1">Giao dịch gần đây</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"flex right"</span><span class="s3">&gt;&lt;</span><span class="s6">button</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"btn"</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"btn-undo"</span><span class="s1"> </span><span class="s2">disabled</span><span class="s3">&gt;</span><span class="s1">Hoàn tác giao dịch cuối</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;&lt;</span><span class="s6">button</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"btn"</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"btn-export-txn"</span><span class="s3">&gt;</span><span class="s1">Xuất CSV</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s1">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"bd"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s5">"overflow-x:auto"</span><span class="s3">&gt;&lt;</span><span class="s1">table</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"txn-table"</span><span class="s3">&gt;&lt;</span><span class="s1">thead</span><span class="s3">&gt;&lt;</span><span class="s1">tr</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">Ngày</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">Loại</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">SKU</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">Tên</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">SL (hộp)</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">Lô</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">HSD</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">Kho</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;</span><span class="s4">Ghi chú</span><span class="s3">&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;</span><span class="s1">th</span><span class="s3">&gt;&lt;/</span><span class="s1">th</span><span class="s3">&gt;&lt;/</span><span class="s1">tr</span><span class="s3">&gt;&lt;/</span><span class="s1">thead</span><span class="s3">&gt;&lt;</span><span class="s1">tbody</span><span class="s3">&gt;&lt;/</span><span class="s1">tbody</span><span class="s3">&gt;&lt;/</span><span class="s1">table</span><span class="s3">&gt;&lt;/</span><span class="s1">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">section</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">section</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"wrap hidden"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"view-count"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"panel"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hd"</span><span class="s3">&gt;&lt;</span><span class="s6">h2</span><span class="s3">&gt;</span><span class="s4">Tạo phiếu kiểm kê</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bd"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"row cols-4"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">label</span><span class="s3">&gt;</span><span class="s4">Tên phiên kiểm</span><span class="s3">&lt;/</span><span class="s6">label</span><span class="s3">&gt;&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"c-name"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"Kiểm kho tháng 8"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">label</span><span class="s3">&gt;</span><span class="s4">Ngày</span><span class="s3">&lt;/</span><span class="s6">label</span><span class="s3">&gt;&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"c-date"</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"date"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">label</span><span class="s3">&gt;</span><span class="s4">Ghi chú</span><span class="s3">&lt;/</span><span class="s6">label</span><span class="s3">&gt;&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"c-note"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"Đếm theo hộp"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"center"</span><span class="s3">&gt;&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn primary"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"c-start"</span><span class="s3">&gt;</span><span class="s4">Tạo danh sách</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"panel"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"count-panel"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"display:none"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hd"</span><span class="s3">&gt;&lt;</span><span class="s6">h2</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"count-title"</span><span class="s3">&gt;</span><span class="s4">Phiếu kiểm</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bd"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"overflow-x:auto"</span><span class="s3">&gt;&lt;</span><span class="s6">table</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"count-table"</span><span class="s3">&gt;&lt;</span><span class="s6">thead</span><span class="s3">&gt;&lt;</span><span class="s6">tr</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s4">SKU</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s4">Tên</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s4">Tồn hệ thống</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s4">Thực đếm</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s4">Chênh lệch</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;/</span><span class="s6">tr</span><span class="s3">&gt;&lt;/</span><span class="s6">thead</span><span class="s3">&gt;&lt;</span><span class="s6">tbody</span><span class="s3">&gt;&lt;/</span><span class="s6">tbody</span><span class="s3">&gt;&lt;/</span><span class="s6">table</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"foot"</span><span class="s3">&gt;&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"c-print"</span><span class="s3">&gt;</span><span class="s4">In phiếu</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"c-cancel"</span><span class="s3">&gt;</span><span class="s4">Hủy</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn primary"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"c-commit"</span><span class="s3">&gt;</span><span class="s4">Ghi nhận chênh lệch (ADJ)</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">section</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">section</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"wrap hidden"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"view-report"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s1">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"panel"</span><span class="s3">&gt;&lt;</span><span class="s1">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"hd"</span><span class="s3">&gt;&lt;</span><span class="s1">h2</span><span class="s3">&gt;</span><span class="s4">Báo cáo nhập xuất tồn</span><span class="s3">&lt;/</span><span class="s1">h2</span><span class="s3">&gt;&lt;/</span><span class="s1">div</span><span class="s3">&gt;&lt;</span><span class="s1">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"bd"</span><span class="s3">&gt;&lt;</span><span class="s1">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"row cols-4"</span><span class="s3">&gt;&lt;</span><span class="s1">div</span><span class="s3">&gt;&lt;</span><span class="s1">label</span><span class="s3">&gt;</span><span class="s4">Từ ngày</span><span class="s3">&lt;/</span><span class="s1">label</span><span class="s3">&gt;&lt;</span><span class="s1">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s5">"date"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"r-from"</span><span class="s3">&gt;&lt;/</span><span class="s1">div</span><span class="s3">&gt;&lt;</span><span class="s1">div</span><span class="s3">&gt;&lt;</span><span class="s1">label</span><span class="s3">&gt;</span><span class="s4">Đến ngày</span><span class="s3">&lt;/</span><span class="s1">label</span><span class="s3">&gt;&lt;</span><span class="s1">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s5">"date"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"r-to"</span><span class="s3">&gt;&lt;/</span><span class="s1">div</span><span class="s3">&gt;&lt;</span><span class="s1">div</span><span class="s3">&gt;&lt;</span><span class="s1">label</span><span class="s3">&gt;</span><span class="s4">Kho</span><span class="s3">&lt;/</span><span class="s1">label</span><span class="s3">&gt;&lt;</span><span class="s1">select</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"r-warehouse"</span><span class="s3">&gt;&lt;</span><span class="s1">option</span><span class="s4"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">""</span><span class="s3">&gt;</span><span class="s4">Tất cả kho</span><span class="s3">&lt;/</span><span class="s1">option</span><span class="s3">&gt;&lt;/</span><span class="s1">select</span><span class="s3">&gt;&lt;/</span><span class="s1">div</span><span class="s3">&gt;&lt;</span><span class="s1">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"center"</span><span class="s3">&gt;&lt;</span><span class="s1">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"btn primary"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"btn-run-report"</span><span class="s3">&gt;</span><span class="s4">Chạy báo cáo</span><span class="s3">&lt;/</span><span class="s1">button</span><span class="s3">&gt;&lt;/</span><span class="s1">div</span><span class="s3">&gt;&lt;/</span><span class="s1">div</span><span class="s3">&gt;&lt;/</span><span class="s1">div</span><span class="s3">&gt;&lt;/</span><span class="s1">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"panel"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"report-result-panel"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"display:none"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hd"</span><span class="s3">&gt;&lt;</span><span class="s6">h2</span><span class="s3">&gt;</span><span class="s4">Kết quả báo cáo</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn right"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"btn-export-report"</span><span class="s3">&gt;</span><span class="s4">Xuất CSV</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bd"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"overflow-x:auto"</span><span class="s3">&gt;&lt;</span><span class="s6">table</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"report-table"</span><span class="s3">&gt;&lt;</span><span class="s6">thead</span><span class="s3">&gt;&lt;</span><span class="s6">tr</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s4">SKU</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s4">Tên</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s4">Tồn đầu kỳ</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s4">Nhập</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s4">Xuất</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s4">Điều chỉnh</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;</span><span class="s6">th</span><span class="s3">&gt;</span><span class="s4">Tồn cuối kỳ</span><span class="s3">&lt;/</span><span class="s6">th</span><span class="s3">&gt;&lt;/</span><span class="s6">tr</span><span class="s3">&gt;&lt;/</span><span class="s6">thead</span><span class="s3">&gt;&lt;</span><span class="s6">tbody</span><span class="s3">&gt;&lt;/</span><span class="s6">tbody</span><span class="s3">&gt;&lt;/</span><span class="s6">table</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">section</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">section</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"wrap hidden"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"view-settings"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"panel"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hd"</span><span class="s3">&gt;&lt;</span><span class="s6">h2</span><span class="s3">&gt;</span><span class="s4">Sao lưu &amp; Khởi tạo</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bd grid cols-2"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"stat"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"k"</span><span class="s3">&gt;</span><span class="s4">Sao lưu dữ liệu</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"v"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"font-size:14px;font-weight:500"</span><span class="s3">&gt;</span><span class="s4">Tải tệp JSON chứa sản phẩm &amp; giao dịch</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"margin-top:10px"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex"</span><span class="s3">&gt;&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"btn-export-json"</span><span class="s3">&gt;</span><span class="s4">Tải JSON</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;&lt;</span><span class="s6">label</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn ghost"</span><span class="s4"> </span><span class="s2">for</span><span class="s3">=</span><span class="s1">"import-json"</span><span class="s3">&gt;</span><span class="s4">Phục hồi JSON</span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"import-json"</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"file"</span><span class="s4"> </span><span class="s2">accept</span><span class="s3">=</span><span class="s1">"application/json"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"display:none"</span><span class="s3">&gt;&lt;/</span><span class="s6">label</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hint"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"margin-top:8px"</span><span class="s3">&gt;</span><span class="s4">Khuyến nghị sao lưu mỗi ngày.</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"stat"</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"k"</span><span class="s3">&gt;</span><span class="s4">Dữ liệu mẫu</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"v"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"font-size:14px;font-weight:500"</span><span class="s3">&gt;</span><span class="s4">Tạo 4 SKU mẫu và vài giao dịch</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"margin-top:10px"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex"</span><span class="s3">&gt;&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"btn-seed"</span><span class="s3">&gt;</span><span class="s4">Tạo dữ liệu mẫu</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn danger"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"btn-reset"</span><span class="s3">&gt;</span><span class="s4">Xóa toàn bộ dữ liệu</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hint"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"margin-top:8px"</span><span class="s3">&gt;</span><span class="s4">Không thể hoàn tác khi xóa.</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">       </span></span><span class="s3">&lt;/</span><span class="s6">section</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;/</span><span class="s1">main</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"toast"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"toast"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- UTILITIES ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s10">const</span><span class="s1"> $ </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">s</span><span class="s7">,</span><span class="s1"> c </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> c</span><span class="s7">.</span><span class="s1">querySelector</span><span class="s7">(</span><span class="s1">s</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s10">const</span><span class="s1"> $$ </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">s</span><span class="s7">,</span><span class="s1"> c </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s16">Array</span><span class="s7">.</span><span class="s10">from</span><span class="s7">(</span><span class="s1">c</span><span class="s7">.</span><span class="s1">querySelectorAll</span><span class="s7">(</span><span class="s1">s</span><span class="s7">));</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s10">const</span><span class="s4"> fmt </span><span class="s7">=</span><span class="s4"> </span><span class="s10">new</span><span class="s4"> </span><span class="s1">Intl</span><span class="s7">.</span><span class="s1">NumberFormat</span><span class="s7">(</span><span class="s9">'vi-VN'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s10">const</span><span class="s1"> money </span><span class="s7">=</span><span class="s1"> v </span><span class="s7">=&gt;</span><span class="s1"> fmt</span><span class="s7">.</span><span class="s1">format</span><span class="s7">(</span><span class="s16">Math</span><span class="s7">.</span><span class="s1">round</span><span class="s7">(</span><span class="s16">Number</span><span class="s7">(</span><span class="s1">v </span><span class="s7">||</span><span class="s1"> </span><span class="s17">0</span><span class="s7">)));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s10">const</span><span class="s1"> today </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s16">Date</span><span class="s7">().</span><span class="s1">toISOString</span><span class="s7">().</span><span class="s1">slice</span><span class="s7">(</span><span class="s17">0</span><span class="s7">,</span><span class="s1"> </span><span class="s17">10</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s10">const</span><span class="s1"> uuid </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> crypto</span><span class="s7">.</span><span class="s1">randomUUID </span><span class="s7">?</span><span class="s1"> crypto</span><span class="s7">.</span><span class="s1">randomUUID</span><span class="s7">()</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s9">'id-'</span><span class="s1"> </span><span class="s7">+</span><span class="s1"> </span><span class="s16">Math</span><span class="s7">.</span><span class="s1">random</span><span class="s7">().</span><span class="s1">toString</span><span class="s7">(</span><span class="s17">36</span><span class="s7">).</span><span class="s1">slice</span><span class="s7">(</span><span class="s17">2</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s10">const</span><span class="s1"> toast </span><span class="s7">=</span><span class="s1"> m </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s10">const</span><span class="s1"> t </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#toast'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>t</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> m</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>t</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s9">'show'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>setTimeout</span><span class="s7">(()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s9">'show'</span><span class="s7">),</span><span class="s1"> </span><span class="s17">2400</span><span class="s7">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">};</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- DATABASE (LOCALSTORAGE) ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s10">const</span><span class="s1"> </span><span class="s16">DB</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span>key</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'gg_inv_v1'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>load</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> raw </span><span class="s7">=</span><span class="s1"> localStorage</span><span class="s7">.</span><span class="s1">getItem</span><span class="s7">(</span><span class="s10">this</span><span class="s7">.</span><span class="s1">key</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">raw</span><span class="s7">)</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> products</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[],</span><span class="s1"> txns</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[],</span><span class="s1"> settings</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{}</span><span class="s1"> </span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">try</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">return</span><span class="s1"> </span><span class="s16">JSON</span><span class="s7">.</span><span class="s1">parse</span><span class="s7">(</span><span class="s1">raw</span><span class="s7">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">catch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span>console</span><span class="s7">.</span><span class="s4">error</span><span class="s7">(</span><span class="s1">"Failed to parse data from localStorage"</span><span class="s7">,</span><span class="s4"> e</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">return</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> products</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[],</span><span class="s1"> txns</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[],</span><span class="s1"> settings</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{}</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>save</span><span class="s7">(</span><span class="s1">d</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">try</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>localStorage</span><span class="s7">.</span><span class="s1">setItem</span><span class="s7">(</span><span class="s10">this</span><span class="s7">.</span><span class="s1">key</span><span class="s7">,</span><span class="s1"> </span><span class="s16">JSON</span><span class="s7">.</span><span class="s1">stringify</span><span class="s7">(</span><span class="s1">d</span><span class="s7">));</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">// Sau khi lưu, dispatch một event để thông báo dữ liệu đã thay đổi</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>window</span><span class="s7">.</span><span class="s1">dispatchEvent</span><span class="s7">(</span><span class="s10">new</span><span class="s1"> </span><span class="s16">Event</span><span class="s7">(</span><span class="s9">'datachanged'</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">catch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span>console</span><span class="s7">.</span><span class="s4">error</span><span class="s7">(</span><span class="s1">"Failed to save data to localStorage"</span><span class="s7">,</span><span class="s4"> e</span><span class="s7">);</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span>toast</span><span class="s7">(</span><span class="s1">"Lỗi: Không thể lưu dữ liệu."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s10">get</span><span class="s1"> data</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">load</span><span class="s7">()</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s10">set</span><span class="s1"> data</span><span class="s7">(</span><span class="s1">d</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">save</span><span class="s7">(</span><span class="s1">d</span><span class="s7">)</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>reset</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">save</span><span class="s7">({</span><span class="s1"> products</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[],</span><span class="s1"> txns</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[],</span><span class="s1"> settings</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{}</span><span class="s1"> </span><span class="s7">})</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">};</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- CORE LOGIC ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s10">const</span><span class="s1"> </span><span class="s16">App</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">// State</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>state</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>currentView</span><span class="s7">:</span><span class="s1"> </span><span class="s9">'dash'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>editingProductId</span><span class="s7">:</span><span class="s1"> </span><span class="s10">null</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>countSession</span><span class="s7">:</span><span class="s1"> </span><span class="s10">null</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">// Getters</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s10">get</span><span class="s1"> products</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> </span><span class="s16">DB</span><span class="s7">.</span><span class="s1">data</span><span class="s7">.</span><span class="s1">products </span><span class="s7">||</span><span class="s1"> </span><span class="s7">[]</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s10">get</span><span class="s1"> txns</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> </span><span class="s16">DB</span><span class="s7">.</span><span class="s1">data</span><span class="s7">.</span><span class="s1">txns </span><span class="s7">||</span><span class="s1"> </span><span class="s7">[]</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">// Methods</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>getProduct</span><span class="s7">(</span><span class="s1">id</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">return</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">products</span><span class="s7">.</span><span class="s1">find</span><span class="s7">(</span><span class="s1">p </span><span class="s7">=&gt;</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">id </span><span class="s7">===</span><span class="s1"> id</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>calculateStock</span><span class="s7">(</span><span class="s1">productId</span><span class="s7">,</span><span class="s1"> atDate </span><span class="s7">=</span><span class="s1"> </span><span class="s10">null</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">return</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">txns</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">.</span><span class="s1">filter</span><span class="s7">(</span><span class="s1">t </span><span class="s7">=&gt;</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">productId </span><span class="s7">===</span><span class="s1"> productId </span><span class="s7">&amp;&amp;</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">atDate </span><span class="s7">||</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">date </span><span class="s7">&lt;=</span><span class="s1"> atDate</span><span class="s7">))</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">.</span><span class="s1">reduce</span><span class="s7">((</span><span class="s1">sum</span><span class="s7">,</span><span class="s1"> t</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> qty </span><span class="s7">=</span><span class="s1"> </span><span class="s16">Number</span><span class="s7">(</span><span class="s1">t</span><span class="s7">.</span><span class="s1">qty</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s17">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">t</span><span class="s7">.</span><span class="s1">type </span><span class="s7">===</span><span class="s1"> </span><span class="s9">'OUT'</span><span class="s7">)</span><span class="s1"> </span><span class="s10">return</span><span class="s1"> sum </span><span class="s7">-</span><span class="s1"> qty</span><span class="s7">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s4"> </span><span class="s7">(</span><span class="s4">t</span><span class="s7">.</span><span class="s4">type </span><span class="s7">===</span><span class="s4"> </span><span class="s9">'ADJ'</span><span class="s7">)</span><span class="s4"> </span><span class="s10">return</span><span class="s4"> qty</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Điều chỉnh sẽ set tồn kho về giá trị mới</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s1"> sum </span><span class="s7">+</span><span class="s1"> qty</span><span class="s7">;</span><span class="s1"> </span><span class="s18">// IN</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">},</span><span class="s1"> </span><span class="s17">0</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>stockLots</span><span class="s7">(</span><span class="s1">productId</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> lots </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">txns</span><span class="s7">.</span><span class="s1">filter</span><span class="s7">(</span><span class="s1">t </span><span class="s7">=&gt;</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">productId </span><span class="s7">===</span><span class="s1"> productId </span><span class="s7">&amp;&amp;</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">lot</span><span class="s7">).</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">t </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> key </span><span class="s7">=</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">lot </span><span class="s7">+</span><span class="s1"> </span><span class="s9">'|'</span><span class="s1"> </span><span class="s7">+</span><span class="s1"> </span><span class="s7">(</span><span class="s1">t</span><span class="s7">.</span><span class="s1">expiry </span><span class="s7">||</span><span class="s1"> </span><span class="s9">''</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">lots</span><span class="s7">[</span><span class="s1">key</span><span class="s7">])</span><span class="s1"> lots</span><span class="s7">[</span><span class="s1">key</span><span class="s7">]</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> lot</span><span class="s7">:</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">lot</span><span class="s7">,</span><span class="s1"> expiry</span><span class="s7">:</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">expiry </span><span class="s7">||</span><span class="s1"> </span><span class="s9">''</span><span class="s7">,</span><span class="s1"> qty</span><span class="s7">:</span><span class="s1"> </span><span class="s17">0</span><span class="s1"> </span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> qty </span><span class="s7">=</span><span class="s1"> </span><span class="s16">Number</span><span class="s7">(</span><span class="s1">t</span><span class="s7">.</span><span class="s1">qty</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s17">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">t</span><span class="s7">.</span><span class="s1">type </span><span class="s7">===</span><span class="s1"> </span><span class="s9">'OUT'</span><span class="s7">)</span><span class="s1"> lots</span><span class="s7">[</span><span class="s1">key</span><span class="s7">].</span><span class="s1">qty </span><span class="s7">-=</span><span class="s1"> qty</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">else</span><span class="s1"> </span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">t</span><span class="s7">.</span><span class="s1">type </span><span class="s7">===</span><span class="s1"> </span><span class="s9">'ADJ'</span><span class="s7">)</span><span class="s1"> lots</span><span class="s7">[</span><span class="s1">key</span><span class="s7">].</span><span class="s1">qty </span><span class="s7">=</span><span class="s1"> qty</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">else</span><span class="s1"> lots</span><span class="s7">[</span><span class="s1">key</span><span class="s7">].</span><span class="s1">qty </span><span class="s7">+=</span><span class="s1"> qty</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">return</span><span class="s1"> </span><span class="s16">Object</span><span class="s7">.</span><span class="s1">values</span><span class="s7">(</span><span class="s1">lots</span><span class="s7">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">.</span><span class="s1">filter</span><span class="s7">(</span><span class="s1">l </span><span class="s7">=&gt;</span><span class="s1"> l</span><span class="s7">.</span><span class="s1">qty </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s17">0</span><span class="s7">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">.</span><span class="s1">sort</span><span class="s7">((</span><span class="s1">a</span><span class="s7">,</span><span class="s1"> b</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">(</span><span class="s1">a</span><span class="s7">.</span><span class="s1">expiry </span><span class="s7">||</span><span class="s1"> </span><span class="s9">'9999-99-99'</span><span class="s7">).</span><span class="s1">localeCompare</span><span class="s7">(</span><span class="s1">b</span><span class="s7">.</span><span class="s1">expiry </span><span class="s7">||</span><span class="s1"> </span><span class="s9">'9999-99-99'</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>nextExpiring</span><span class="s7">(</span><span class="s1">productId</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> lots </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">stockLots</span><span class="s7">(</span><span class="s1">productId</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">return</span><span class="s1"> lots</span><span class="s7">.</span><span class="s1">length </span><span class="s7">?</span><span class="s1"> lots</span><span class="s7">[</span><span class="s17">0</span><span class="s7">]</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s10">null</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">// --- INITIALIZATION ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>init</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">render</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">attachListeners</span><span class="s7">();</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Set initial dates for forms</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#t-date'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> today</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#c-date'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> today</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#r-to'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> today</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> oneMonthAgo </span><span class="s7">=</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s16">Date</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>oneMonthAgo</span><span class="s7">.</span><span class="s1">setMonth</span><span class="s7">(</span><span class="s1">oneMonthAgo</span><span class="s7">.</span><span class="s1">getMonth</span><span class="s7">()</span><span class="s1"> </span><span class="s7">-</span><span class="s1"> </span><span class="s17">1</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#r-from'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> oneMonthAgo</span><span class="s7">.</span><span class="s1">toISOString</span><span class="s7">().</span><span class="s1">slice</span><span class="s7">(</span><span class="s17">0</span><span class="s7">,</span><span class="s1"> </span><span class="s17">10</span><span class="s7">);</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Theme toggle from localStorage</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">localStorage</span><span class="s7">.</span><span class="s1">getItem</span><span class="s7">(</span><span class="s9">'gg_theme'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">===</span><span class="s1"> </span><span class="s9">'light'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s7">.</span><span class="s1">documentElement</span><span class="s7">.</span><span class="s1">setAttribute</span><span class="s7">(</span><span class="s9">'data-theme'</span><span class="s7">,</span><span class="s1"> </span><span class="s9">'light'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">// --- EVENT LISTENERS ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>attachListeners</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Main navigation</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#tabs'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> e </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">contains</span><span class="s7">(</span><span class="s9">'tab'</span><span class="s7">))</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">currentView </span><span class="s7">=</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">tab</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">render</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Theme toggle</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#theme-toggle'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> currentTheme </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">documentElement</span><span class="s7">.</span><span class="s1">getAttribute</span><span class="s7">(</span><span class="s9">'data-theme'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">currentTheme </span><span class="s7">===</span><span class="s1"> </span><span class="s9">'light'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s7">.</span><span class="s1">documentElement</span><span class="s7">.</span><span class="s1">removeAttribute</span><span class="s7">(</span><span class="s9">'data-theme'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>localStorage</span><span class="s7">.</span><span class="s1">removeItem</span><span class="s7">(</span><span class="s9">'gg_theme'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s7">.</span><span class="s1">documentElement</span><span class="s7">.</span><span class="s1">setAttribute</span><span class="s7">(</span><span class="s9">'data-theme'</span><span class="s7">,</span><span class="s1"> </span><span class="s9">'light'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>localStorage</span><span class="s7">.</span><span class="s1">setItem</span><span class="s7">(</span><span class="s9">'gg_theme'</span><span class="s7">,</span><span class="s1"> </span><span class="s9">'light'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Re-render on data change</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'datachanged'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">render</span><span class="s7">());</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Products View</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#btn-new-prod'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">showProdForm</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#btn-cancel-prod'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">hideProdForm</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#btn-save-prod'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">saveProduct</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#prod-table tbody'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> e </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">closest</span><span class="s7">(</span><span class="s9">'.btn-edit'</span><span class="s7">))</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">editProduct</span><span class="s7">(</span><span class="s1">e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">closest</span><span class="s7">(</span><span class="s9">'.btn-edit'</span><span class="s7">).</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">id</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">closest</span><span class="s7">(</span><span class="s9">'.btn-delete'</span><span class="s7">))</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">deleteProduct</span><span class="s7">(</span><span class="s1">e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">closest</span><span class="s7">(</span><span class="s9">'.btn-delete'</span><span class="s7">).</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">id</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#btn-export-products'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">exportProductsToCsv</span><span class="s7">());</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Transactions View</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#btn-add-txn'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">addTransaction</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#btn-clear-txn'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#txn-form'</span><span class="s7">).</span><span class="s1">reset</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#t-prod'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'change'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">updateTxnHints</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#btn-undo'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">undoLastTransaction</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#btn-export-txn'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">exportTxnsToCsv</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#txn-table tbody'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> e </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">closest</span><span class="s7">(</span><span class="s9">'.btn-delete-txn'</span><span class="s7">))</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">deleteTransaction</span><span class="s7">(</span><span class="s1">e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">closest</span><span class="s7">(</span><span class="s9">'.btn-delete-txn'</span><span class="s7">).</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">id</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Dashboard View</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s7">[</span><span class="s1">'#dash-search'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'#f-size'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'#f-color'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'#f-material'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'#f-status'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'#f-warehouse'</span><span class="s7">].</span><span class="s4">forEach</span><span class="s7">(</span><span class="s4">sel </span><span class="s7">=&gt;</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>$</span><span class="s7">(</span><span class="s1">sel</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'input'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">renderStockTable</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Count View</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#c-start'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">startCount</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#c-cancel'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">cancelCount</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#c-commit'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">commitCount</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#c-print'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> window</span><span class="s7">.</span><span class="s1">print</span><span class="s7">());</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Report View</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#btn-run-report'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">runReport</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#btn-export-report'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">exportReportToCsv</span><span class="s7">());</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Settings View</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#btn-seed'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">seedData</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#btn-reset'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">resetData</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#btn-export-json'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">exportJson</span><span class="s7">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#import-json'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'change'</span><span class="s7">,</span><span class="s1"> e </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">importJson</span><span class="s7">(</span><span class="s1">e</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">// --- RENDER METHODS ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>render</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Switch view</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$$</span><span class="s7">(</span><span class="s9">'main &gt; section'</span><span class="s7">).</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">el </span><span class="s7">=&gt;</span><span class="s1"> el</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s9">'hidden'</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">`#view-</span><span class="s7">${</span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">currentView</span><span class="s7">}</span><span class="s9">`</span><span class="s7">).</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s9">'hidden'</span><span class="s7">);</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Call specific renderers based on view</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">switch</span><span class="s1"> </span><span class="s7">(</span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">currentView</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">case</span><span class="s1"> </span><span class="s9">'dash'</span><span class="s7">:</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">renderDashboard</span><span class="s7">();</span><span class="s1"> </span><span class="s10">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">case</span><span class="s1"> </span><span class="s9">'products'</span><span class="s7">:</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">renderProducts</span><span class="s7">();</span><span class="s1"> </span><span class="s10">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">case</span><span class="s1"> </span><span class="s9">'txn'</span><span class="s7">:</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">renderTransactions</span><span class="s7">();</span><span class="s1"> </span><span class="s10">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">updateUndoButton</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>renderDashboard</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> allProducts </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">products</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">let</span><span class="s1"> totalStock </span><span class="s7">=</span><span class="s1"> </span><span class="s17">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">let</span><span class="s1"> totalValue </span><span class="s7">=</span><span class="s1"> </span><span class="s17">0</span><span class="s7">;</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>allProducts</span><span class="s7">.</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">p </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">const</span><span class="s1"> stock </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">calculateStock</span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">id</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>totalStock </span><span class="s7">+=</span><span class="s1"> stock</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>totalValue </span><span class="s7">+=</span><span class="s1"> stock </span><span class="s7">*</span><span class="s1"> </span><span class="s7">(</span><span class="s16">Number</span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">cost</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s17">0</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#stat-skus'</span><span class="s7">).</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> allProducts</span><span class="s7">.</span><span class="s1">length</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#stat-stock'</span><span class="s7">).</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> money</span><span class="s7">(</span><span class="s1">totalStock</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#stat-value'</span><span class="s7">).</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> money</span><span class="s7">(</span><span class="s1">totalValue</span><span class="s7">);</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">renderLowStockList</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">renderExpiryList</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">renderStockTable</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">populateWarehouseFilter</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>populateWarehouseFilter</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> warehouses </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[...</span><span class="s10">new</span><span class="s1"> </span><span class="s16">Set</span><span class="s7">(</span><span class="s10">this</span><span class="s7">.</span><span class="s1">txns</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">t </span><span class="s7">=&gt;</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">wh</span><span class="s7">).</span><span class="s1">filter</span><span class="s7">(</span><span class="s16">Boolean</span><span class="s7">))];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> select </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#f-warehouse'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> reportSelect </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#r-warehouse'</span><span class="s7">);</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Keep the first option ("Tất cả")</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>select</span><span class="s7">.</span><span class="s4">innerHTML </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'&lt;option value=""&gt;Kho (tất cả)&lt;/option&gt;'</span><span class="s7">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>reportSelect</span><span class="s7">.</span><span class="s4">innerHTML </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'&lt;option value=""&gt;Kho (tất cả)&lt;/option&gt;'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>warehouses</span><span class="s7">.</span><span class="s1">sort</span><span class="s7">().</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">wh </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>select</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">+=</span><span class="s1"> </span><span class="s9">`&lt;option&gt;</span><span class="s7">${</span><span class="s1">wh</span><span class="s7">}</span><span class="s9">&lt;/option&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>reportSelect</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">+=</span><span class="s1"> </span><span class="s9">`&lt;option&gt;</span><span class="s7">${</span><span class="s1">wh</span><span class="s7">}</span><span class="s9">&lt;/option&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>renderLowStockList</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> lowStockProducts </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">products</span><span class="s7">.</span><span class="s1">filter</span><span class="s7">(</span><span class="s1">p </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">const</span><span class="s1"> stock </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">calculateStock</span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">id</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">return</span><span class="s1"> stock </span><span class="s7">&lt;=</span><span class="s1"> </span><span class="s7">(</span><span class="s16">Number</span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">reorder</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s17">0</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> list </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#low-list'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">lowStockProducts</span><span class="s7">.</span><span class="s1">length </span><span class="s7">===</span><span class="s1"> </span><span class="s17">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span>list</span><span class="s7">.</span><span class="s4">innerHTML </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`&lt;div class="hint"&gt;Không có sản phẩm nào dưới mức đặt hàng.&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>list</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> lowStockProducts</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">p </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s9">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="flex" style="justify-content:space-between; padding: 4px 0;"&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">name</span><span class="s7">}</span><span class="s1"> (SKU: </span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">sku</span><span class="s7">}</span><span class="s1">)&lt;/span&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span class="tag"&gt;Tồn: </span><span class="s7">${</span><span class="s4">money</span><span class="s7">(</span><span class="s10">this</span><span class="s7">.</span><span class="s4">calculateStock</span><span class="s7">(</span><span class="s4">p</span><span class="s7">.</span><span class="s4">id</span><span class="s7">))}</span><span class="s1"> / Đặt: </span><span class="s7">${</span><span class="s4">money</span><span class="s7">(</span><span class="s4">p</span><span class="s7">.</span><span class="s4">reorder</span><span class="s7">)}</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">        </span>`</span><span class="s7">).</span><span class="s4">join</span><span class="s7">(</span><span class="s1">''</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>renderExpiryList</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> expiringLots </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> daysThreshold </span><span class="s7">=</span><span class="s1"> </span><span class="s17">90</span><span class="s7">;</span><span class="s1"> </span><span class="s18">// Cảnh báo trước 90 ngày</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> thresholdDate </span><span class="s7">=</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s16">Date</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>thresholdDate</span><span class="s7">.</span><span class="s1">setDate</span><span class="s7">(</span><span class="s1">thresholdDate</span><span class="s7">.</span><span class="s1">getDate</span><span class="s7">()</span><span class="s1"> </span><span class="s7">+</span><span class="s1"> daysThreshold</span><span class="s7">);</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">products</span><span class="s7">.</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">p </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">stockLots</span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">id</span><span class="s7">).</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">lot </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">lot</span><span class="s7">.</span><span class="s1">expiry</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span></span><span class="s10">const</span><span class="s1"> expiryDate </span><span class="s7">=</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s16">Date</span><span class="s7">(</span><span class="s1">lot</span><span class="s7">.</span><span class="s1">expiry</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">expiryDate </span><span class="s7">&lt;=</span><span class="s1"> thresholdDate</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>expiringLots</span><span class="s7">.</span><span class="s1">push</span><span class="s7">({</span><span class="s1"> product</span><span class="s7">:</span><span class="s1"> p</span><span class="s7">,</span><span class="s1"> lot </span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>expiringLots</span><span class="s7">.</span><span class="s1">sort</span><span class="s7">((</span><span class="s1">a</span><span class="s7">,</span><span class="s1"> b</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s16">Date</span><span class="s7">(</span><span class="s1">a</span><span class="s7">.</span><span class="s1">lot</span><span class="s7">.</span><span class="s1">expiry</span><span class="s7">)</span><span class="s1"> </span><span class="s7">-</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s16">Date</span><span class="s7">(</span><span class="s1">b</span><span class="s7">.</span><span class="s1">lot</span><span class="s7">.</span><span class="s1">expiry</span><span class="s7">));</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> list </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#exp-list'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">expiringLots</span><span class="s7">.</span><span class="s1">length </span><span class="s7">===</span><span class="s1"> </span><span class="s17">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span>list</span><span class="s7">.</span><span class="s4">innerHTML </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`&lt;div class="hint"&gt;Không có lô nào sắp hết hạn.&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>list</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> expiringLots</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(({</span><span class="s1"> product</span><span class="s7">,</span><span class="s1"> lot </span><span class="s7">})</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s9">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="flex" style="justify-content:space-between; padding: 4px 0;"&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span&gt;</span><span class="s7">${</span><span class="s4">product</span><span class="s7">.</span><span class="s4">name</span><span class="s7">}</span><span class="s1"> (Lô: </span><span class="s7">${</span><span class="s4">lot</span><span class="s7">.</span><span class="s4">lot</span><span class="s7">}</span><span class="s1">)&lt;/span&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span class="tag" style="color:var(--warn)"&gt;HSD: </span><span class="s7">${</span><span class="s4">lot</span><span class="s7">.</span><span class="s4">expiry</span><span class="s7">}</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">        </span>`</span><span class="s7">).</span><span class="s4">join</span><span class="s7">(</span><span class="s1">''</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>renderStockTable</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s4"> tbody </span><span class="s7">=</span><span class="s4"> $</span><span class="s7">(</span><span class="s1">'#stock-table tbody'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> searchTerm </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#dash-search'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">.</span><span class="s1">toLowerCase</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> fSize </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#f-size'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> fColor </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#f-color'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> fMaterial </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#f-material'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> fStatus </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#f-status'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> fWarehouse </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#f-warehouse'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> filteredProducts </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">products</span><span class="s7">.</span><span class="s1">filter</span><span class="s7">(</span><span class="s1">p </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> stock </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">calculateStock</span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">id</span><span class="s7">,</span><span class="s1"> fWarehouse</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> matchSearch </span><span class="s7">=</span><span class="s1"> searchTerm </span><span class="s7">===</span><span class="s1"> </span><span class="s9">''</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s16">Object</span><span class="s7">.</span><span class="s1">values</span><span class="s7">(</span><span class="s1">p</span><span class="s7">).</span><span class="s1">some</span><span class="s7">(</span><span class="s1">val </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s16">String</span><span class="s7">(</span><span class="s1">val</span><span class="s7">).</span><span class="s1">toLowerCase</span><span class="s7">().</span><span class="s1">includes</span><span class="s7">(</span><span class="s1">searchTerm</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> matchSize </span><span class="s7">=</span><span class="s1"> fSize </span><span class="s7">===</span><span class="s1"> </span><span class="s9">''</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">size </span><span class="s7">===</span><span class="s1"> fSize</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> matchColor </span><span class="s7">=</span><span class="s1"> fColor </span><span class="s7">===</span><span class="s1"> </span><span class="s9">''</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">color </span><span class="s7">===</span><span class="s1"> fColor</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> matchMaterial </span><span class="s7">=</span><span class="s1"> fMaterial </span><span class="s7">===</span><span class="s1"> </span><span class="s9">''</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">material </span><span class="s7">===</span><span class="s1"> fMaterial</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> matchStatus </span><span class="s7">=</span><span class="s1"> fStatus </span><span class="s7">===</span><span class="s1"> </span><span class="s9">''</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s7">(</span><span class="s1">fStatus </span><span class="s7">===</span><span class="s1"> </span><span class="s9">'low'</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> stock </span><span class="s7">&lt;=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">reorder </span><span class="s7">||</span><span class="s1"> </span><span class="s17">0</span><span class="s7">))</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s7">(</span><span class="s1">fStatus </span><span class="s7">===</span><span class="s1"> </span><span class="s9">'ok'</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> stock </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">reorder </span><span class="s7">||</span><span class="s1"> </span><span class="s17">0</span><span class="s7">));</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s1"> matchSearch </span><span class="s7">&amp;&amp;</span><span class="s1"> matchSize </span><span class="s7">&amp;&amp;</span><span class="s1"> matchColor </span><span class="s7">&amp;&amp;</span><span class="s1"> matchMaterial </span><span class="s7">&amp;&amp;</span><span class="s1"> matchStatus</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">filteredProducts</span><span class="s7">.</span><span class="s1">length </span><span class="s7">===</span><span class="s1"> </span><span class="s17">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>tbody</span><span class="s7">.</span><span class="s4">innerHTML </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`&lt;tr&gt;&lt;td colspan="8" class="hint" style="text-align:center;padding:20px;"&gt;Không tìm thấy sản phẩm.&lt;/td&gt;&lt;/tr&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>tbody</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> filteredProducts</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">p </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">const</span><span class="s1"> stock </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">calculateStock</span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">id</span><span class="s7">,</span><span class="s1"> fWarehouse</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">const</span><span class="s1"> value </span><span class="s7">=</span><span class="s1"> stock </span><span class="s7">*</span><span class="s1"> </span><span class="s7">(</span><span class="s16">Number</span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">cost</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s17">0</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">const</span><span class="s1"> nextExp </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">nextExpiring</span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">id</span><span class="s7">,</span><span class="s1"> fWarehouse</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">const</span><span class="s1"> reorderPoint </span><span class="s7">=</span><span class="s1"> </span><span class="s16">Number</span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">reorder</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s17">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">const</span><span class="s1"> stockClass </span><span class="s7">=</span><span class="s1"> stock </span><span class="s7">&lt;=</span><span class="s1"> reorderPoint </span><span class="s7">?</span><span class="s1"> </span><span class="s9">'style="color:var(--warn)"'</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s9">''</span><span class="s7">;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">return</span><span class="s1"> </span><span class="s9">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;tr&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">sku</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">name</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">size</span><span class="s7">}</span><span class="s1">, </span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">color</span><span class="s7">}</span><span class="s1">, </span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">material</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;td </span><span class="s7">${</span><span class="s4">stockClass</span><span class="s7">}</span><span class="s1">&gt;</span><span class="s7">${</span><span class="s4">money</span><span class="s7">(</span><span class="s4">stock</span><span class="s7">)}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">money</span><span class="s7">(</span><span class="s4">reorderPoint</span><span class="s7">)}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">money</span><span class="s7">(</span><span class="s4">p</span><span class="s7">.</span><span class="s4">cost</span><span class="s7">)}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">money</span><span class="s7">(</span><span class="s4">value</span><span class="s7">)}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p4"><span class="s9"><span class="Apple-converted-space">              </span>&lt;td&gt;</span><span class="s7">${</span><span class="s1">nextExp </span><span class="s7">?</span><span class="s1"> </span><span class="s9">`</span><span class="s7">${</span><span class="s1">nextExp</span><span class="s7">.</span><span class="s1">lot</span><span class="s7">}</span><span class="s9"> (</span><span class="s7">${</span><span class="s1">nextExp</span><span class="s7">.</span><span class="s1">expiry </span><span class="s7">||</span><span class="s1"> </span><span class="s9">'N/A'</span><span class="s7">}</span><span class="s9">)`</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s9">'—'</span><span class="s7">}</span><span class="s9">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/tr&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">          </span>`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}).</span><span class="s1">join</span><span class="s7">(</span><span class="s9">''</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>renderProducts</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s4"> tbody </span><span class="s7">=</span><span class="s4"> $</span><span class="s7">(</span><span class="s1">'#prod-table tbody'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s10">this</span><span class="s7">.</span><span class="s1">products</span><span class="s7">.</span><span class="s1">length </span><span class="s7">===</span><span class="s1"> </span><span class="s17">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>tbody</span><span class="s7">.</span><span class="s4">innerHTML </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`&lt;tr&gt;&lt;td colspan="12" class="hint" style="text-align:center;padding:20px;"&gt;Chưa có sản phẩm nào. Hãy nhấn "+ Thêm sản phẩm".&lt;/td&gt;&lt;/tr&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>tbody</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">products</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">p </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s9">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">          </span>&lt;tr&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">sku</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">name</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">size</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">color</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">material</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">thick </span><span class="s7">||</span><span class="s4"> </span><span class="s1">'—'</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">perbox</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">percarton</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">money</span><span class="s7">(</span><span class="s4">p</span><span class="s7">.</span><span class="s4">cost</span><span class="s7">)}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">money</span><span class="s7">(</span><span class="s4">p</span><span class="s7">.</span><span class="s4">price</span><span class="s7">)}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">money</span><span class="s7">(</span><span class="s4">p</span><span class="s7">.</span><span class="s4">reorder</span><span class="s7">)}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;td class="nowrap"&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;button class="btn btn-edit" data-id="</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">id</span><span class="s7">}</span><span class="s1">"&gt;Sửa&lt;/button&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;button class="btn btn-delete" data-id="</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">id</span><span class="s7">}</span><span class="s1">"&gt;Xóa&lt;/button&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/tr&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">        </span>`</span><span class="s7">).</span><span class="s4">join</span><span class="s7">(</span><span class="s1">''</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>renderTransactions</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s4"> tbody </span><span class="s7">=</span><span class="s4"> $</span><span class="s7">(</span><span class="s1">'#txn-table tbody'</span><span class="s7">);</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Sort transactions by date descending</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> sortedTxns </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[...</span><span class="s10">this</span><span class="s7">.</span><span class="s1">txns</span><span class="s7">].</span><span class="s1">sort</span><span class="s7">((</span><span class="s1">a</span><span class="s7">,</span><span class="s1"> b</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> b</span><span class="s7">.</span><span class="s1">date</span><span class="s7">.</span><span class="s1">localeCompare</span><span class="s7">(</span><span class="s1">a</span><span class="s7">.</span><span class="s1">date</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> b</span><span class="s7">.</span><span class="s1">id</span><span class="s7">.</span><span class="s1">localeCompare</span><span class="s7">(</span><span class="s1">a</span><span class="s7">.</span><span class="s1">id</span><span class="s7">));</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">sortedTxns</span><span class="s7">.</span><span class="s1">length </span><span class="s7">===</span><span class="s1"> </span><span class="s17">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>tbody</span><span class="s7">.</span><span class="s4">innerHTML </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`&lt;tr&gt;&lt;td colspan="10" class="hint" style="text-align:center;padding:20px;"&gt;Chưa có giao dịch nào.&lt;/td&gt;&lt;/tr&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>tbody</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> sortedTxns</span><span class="s7">.</span><span class="s1">slice</span><span class="s7">(</span><span class="s17">0</span><span class="s7">,</span><span class="s1"> </span><span class="s17">100</span><span class="s7">).</span><span class="s1">map</span><span class="s7">(</span><span class="s1">t </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s18">// Show latest 100</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">const</span><span class="s1"> p </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">getProduct</span><span class="s7">(</span><span class="s1">t</span><span class="s7">.</span><span class="s1">productId</span><span class="s7">);</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s10">const</span><span class="s4"> typeMap </span><span class="s7">=</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s1">'IN'</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'Nhập'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'OUT'</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'Xuất'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'ADJ'</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'Điều chỉnh'</span><span class="s4"> </span><span class="s7">};</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s10">const</span><span class="s4"> typeClass </span><span class="s7">=</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s1">'IN'</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'color:var(--ok)'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'OUT'</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'color:var(--danger)'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'ADJ'</span><span class="s7">:</span><span class="s4"> </span><span class="s1">'color:var(--warn)'</span><span class="s4"> </span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">return</span><span class="s1"> </span><span class="s9">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;tr&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">t</span><span class="s7">.</span><span class="s4">date</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;td style="</span><span class="s7">${</span><span class="s4">typeClass</span><span class="s7">[</span><span class="s4">t</span><span class="s7">.</span><span class="s4">type</span><span class="s7">]}</span><span class="s1">"&gt;</span><span class="s7">${</span><span class="s4">typeMap</span><span class="s7">[</span><span class="s4">t</span><span class="s7">.</span><span class="s4">type</span><span class="s7">]}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">p </span><span class="s7">?</span><span class="s4"> p</span><span class="s7">.</span><span class="s4">sku </span><span class="s7">:</span><span class="s4"> </span><span class="s1">'N/A'</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">p </span><span class="s7">?</span><span class="s4"> p</span><span class="s7">.</span><span class="s4">name </span><span class="s7">:</span><span class="s4"> </span><span class="s1">'Sản phẩm đã xóa'</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">money</span><span class="s7">(</span><span class="s4">t</span><span class="s7">.</span><span class="s4">qty</span><span class="s7">)}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">t</span><span class="s7">.</span><span class="s4">lot </span><span class="s7">||</span><span class="s4"> </span><span class="s1">'—'</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">t</span><span class="s7">.</span><span class="s4">expiry </span><span class="s7">||</span><span class="s4"> </span><span class="s1">'—'</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">t</span><span class="s7">.</span><span class="s4">wh </span><span class="s7">||</span><span class="s4"> </span><span class="s1">'—'</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">t</span><span class="s7">.</span><span class="s4">note </span><span class="s7">||</span><span class="s4"> </span><span class="s1">'—'</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">              </span>&lt;td&gt;&lt;button class="btn btn-delete-txn" data-id="</span><span class="s7">${</span><span class="s4">t</span><span class="s7">.</span><span class="s4">id</span><span class="s7">}</span><span class="s1">"&gt;Xóa&lt;/button&gt;&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/tr&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">          </span>`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}).</span><span class="s1">join</span><span class="s7">(</span><span class="s9">''</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">populateTxnProductSelect</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>populateTxnProductSelect</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> select </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#t-prod'</span><span class="s7">);</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>select</span><span class="s7">.</span><span class="s4">innerHTML </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'&lt;option value=""&gt;-- Chọn sản phẩm --&lt;/option&gt;'</span><span class="s4"> </span><span class="s7">+</span><span class="s4"> </span><span class="s10">this</span><span class="s7">.</span><span class="s4">products</span><span class="s7">.</span><span class="s4">map</span><span class="s7">(</span><span class="s4">p </span><span class="s7">=&gt;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">`&lt;option value="</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">id</span><span class="s7">}</span><span class="s1">"&gt;</span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">name</span><span class="s7">}</span><span class="s1"> (SKU: </span><span class="s7">${</span><span class="s4">p</span><span class="s7">.</span><span class="s4">sku</span><span class="s7">}</span><span class="s1">)&lt;/option&gt;`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">).</span><span class="s1">join</span><span class="s7">(</span><span class="s9">''</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>updateTxnHints</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> productId </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#t-prod'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">productId</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>$</span><span class="s7">(</span><span class="s9">'#unit-hint'</span><span class="s7">).</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s9">'—'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>$</span><span class="s7">(</span><span class="s9">'#fefo-hint'</span><span class="s7">).</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s9">'—'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> p </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">getProduct</span><span class="s7">(</span><span class="s1">productId</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#unit-hint'</span><span class="s7">).</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s9">`1 thùng = </span><span class="s7">${</span><span class="s1">p</span><span class="s7">.</span><span class="s1">percarton</span><span class="s7">}</span><span class="s9"> hộp`</span><span class="s7">;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> nextExp </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">nextExpiring</span><span class="s7">(</span><span class="s1">productId</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">nextExp</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>$</span><span class="s7">(</span><span class="s9">'#fefo-hint'</span><span class="s7">).</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s9">`Lô xuất đi gần nhất: </span><span class="s7">${</span><span class="s1">nextExp</span><span class="s7">.</span><span class="s1">lot</span><span class="s7">}</span><span class="s9"> (HSD: </span><span class="s7">${</span><span class="s1">nextExp</span><span class="s7">.</span><span class="s1">expiry </span><span class="s7">||</span><span class="s1"> </span><span class="s9">'N/A'</span><span class="s7">}</span><span class="s9">), tồn: </span><span class="s7">${</span><span class="s1">money</span><span class="s7">(</span><span class="s1">nextExp</span><span class="s7">.</span><span class="s1">qty</span><span class="s7">)}</span><span class="s9">`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>$</span><span class="s7">(</span><span class="s1">'#fefo-hint'</span><span class="s7">).</span><span class="s4">textContent </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`Sản phẩm chưa có lô nào.`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>updateUndoButton</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#btn-undo'</span><span class="s7">).</span><span class="s1">disabled </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">txns</span><span class="s7">.</span><span class="s1">length </span><span class="s7">===</span><span class="s1"> </span><span class="s17">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">// --- ACTION METHODS ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>showProdForm</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">editingProductId </span><span class="s7">=</span><span class="s1"> </span><span class="s10">null</span><span class="s7">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s1">'#prod-form-panel'</span><span class="s7">).</span><span class="s4">style</span><span class="s7">.</span><span class="s4">display </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'block'</span><span class="s7">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s1">'#prod-form-title'</span><span class="s7">).</span><span class="s4">textContent </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'Thêm sản phẩm mới'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#prod-form'</span><span class="s7">).</span><span class="s1">reset</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#p-sku'</span><span class="s7">).</span><span class="s1">focus</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>hideProdForm</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s1">'#prod-form-panel'</span><span class="s7">).</span><span class="s4">style</span><span class="s7">.</span><span class="s4">display </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'none'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>saveProduct</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> sku </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#p-sku'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">.</span><span class="s1">trim</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> name </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#p-name'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">.</span><span class="s1">trim</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">sku </span><span class="s7">||</span><span class="s1"> </span><span class="s7">!</span><span class="s1">name</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span>toast</span><span class="s7">(</span><span class="s1">"Lỗi: SKU và Tên sản phẩm là bắt buộc."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> data </span><span class="s7">=</span><span class="s1"> </span><span class="s16">DB</span><span class="s7">.</span><span class="s1">data</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> newProduct </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>id</span><span class="s7">:</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">editingProductId </span><span class="s7">||</span><span class="s1"> uuid</span><span class="s7">(),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>sku</span><span class="s7">,</span><span class="s1"> name</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>material</span><span class="s7">:</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#p-material'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>size</span><span class="s7">:</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#p-size'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>color</span><span class="s7">:</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#p-color'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>thick</span><span class="s7">:</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#p-thick'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>reorder</span><span class="s7">:</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#p-reorder'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>perbox</span><span class="s7">:</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#p-perbox'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>percarton</span><span class="s7">:</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#p-percarton'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>cost</span><span class="s7">:</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#p-cost'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>price</span><span class="s7">:</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#p-price'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>note</span><span class="s7">:</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#p-note'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">editingProductId</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s18">// Update</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">const</span><span class="s1"> index </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">products</span><span class="s7">.</span><span class="s1">findIndex</span><span class="s7">(</span><span class="s1">p </span><span class="s7">=&gt;</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">id </span><span class="s7">===</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">editingProductId</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>data</span><span class="s7">.</span><span class="s1">products</span><span class="s7">[</span><span class="s1">index</span><span class="s7">]</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> newProduct</span><span class="s7">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span>toast</span><span class="s7">(</span><span class="s1">"Đã cập nhật sản phẩm."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s18">// Create</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">data</span><span class="s7">.</span><span class="s1">products</span><span class="s7">.</span><span class="s1">some</span><span class="s7">(</span><span class="s1">p </span><span class="s7">=&gt;</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">sku</span><span class="s7">.</span><span class="s1">toLowerCase</span><span class="s7">()</span><span class="s1"> </span><span class="s7">===</span><span class="s1"> sku</span><span class="s7">.</span><span class="s1">toLowerCase</span><span class="s7">()))</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">              </span>toast</span><span class="s7">(</span><span class="s1">"Lỗi: SKU đã tồn tại."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">              </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>data</span><span class="s7">.</span><span class="s1">products</span><span class="s7">.</span><span class="s1">push</span><span class="s7">(</span><span class="s1">newProduct</span><span class="s7">);</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span>toast</span><span class="s7">(</span><span class="s1">"Đã thêm sản phẩm mới."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s16">DB</span><span class="s7">.</span><span class="s1">data </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">hideProdForm</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>editProduct</span><span class="s7">(</span><span class="s1">id</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> p </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">getProduct</span><span class="s7">(</span><span class="s1">id</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">p</span><span class="s7">)</span><span class="s1"> </span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">showProdForm</span><span class="s7">();</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s1">'#prod-form-title'</span><span class="s7">).</span><span class="s4">textContent </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'Chỉnh sửa sản phẩm'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">editingProductId </span><span class="s7">=</span><span class="s1"> id</span><span class="s7">;</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#p-id'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">id</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#p-sku'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">sku</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#p-name'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">name</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#p-material'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">material</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#p-size'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">size</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#p-color'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">color</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#p-thick'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">thick</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#p-reorder'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">reorder</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#p-perbox'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">perbox</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#p-percarton'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">percarton</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#p-cost'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">cost</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#p-price'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">price</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#p-note'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">note</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>deleteProduct</span><span class="s7">(</span><span class="s1">id</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s4"> </span><span class="s7">(!</span><span class="s4">confirm</span><span class="s7">(</span><span class="s1">"Bạn có chắc muốn xóa sản phẩm này? Mọi giao dịch liên quan sẽ không hiển thị tên sản phẩm nữa."</span><span class="s7">))</span><span class="s4"> </span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> data </span><span class="s7">=</span><span class="s1"> </span><span class="s16">DB</span><span class="s7">.</span><span class="s1">data</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>data</span><span class="s7">.</span><span class="s1">products </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">products</span><span class="s7">.</span><span class="s1">filter</span><span class="s7">(</span><span class="s1">p </span><span class="s7">=&gt;</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">id </span><span class="s7">!==</span><span class="s1"> id</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s16">DB</span><span class="s7">.</span><span class="s1">data </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>toast</span><span class="s7">(</span><span class="s1">"Đã xóa sản phẩm."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>deleteTransaction</span><span class="s7">(</span><span class="s1">id</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s4"> </span><span class="s7">(!</span><span class="s4">confirm</span><span class="s7">(</span><span class="s1">"Bạn có chắc muốn xóa vĩnh viễn giao dịch này? Hành động này không thể hoàn tác."</span><span class="s7">))</span><span class="s4"> </span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> data </span><span class="s7">=</span><span class="s1"> </span><span class="s16">DB</span><span class="s7">.</span><span class="s1">data</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>data</span><span class="s7">.</span><span class="s1">txns </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">txns</span><span class="s7">.</span><span class="s1">filter</span><span class="s7">(</span><span class="s1">t </span><span class="s7">=&gt;</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">id </span><span class="s7">!==</span><span class="s1"> id</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s16">DB</span><span class="s7">.</span><span class="s1">data </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>toast</span><span class="s7">(</span><span class="s1">"Đã xóa giao dịch."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>addTransaction</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> productId </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#t-prod'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">productId</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span>toast</span><span class="s7">(</span><span class="s1">"Vui lòng chọn một sản phẩm."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> product </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">getProduct</span><span class="s7">(</span><span class="s1">productId</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> qtyInput </span><span class="s7">=</span><span class="s1"> </span><span class="s16">Number</span><span class="s7">(</span><span class="s1">$</span><span class="s7">(</span><span class="s9">'#t-qty'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> unit </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#t-unit'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> qtyInBoxes </span><span class="s7">=</span><span class="s1"> unit </span><span class="s7">===</span><span class="s1"> </span><span class="s9">'CARTON'</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> qtyInput </span><span class="s7">*</span><span class="s1"> </span><span class="s7">(</span><span class="s16">Number</span><span class="s7">(</span><span class="s1">product</span><span class="s7">.</span><span class="s1">percarton</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s17">1</span><span class="s7">)</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> qtyInput</span><span class="s7">;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">qtyInBoxes </span><span class="s7">&lt;=</span><span class="s1"> </span><span class="s17">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>toast</span><span class="s7">(</span><span class="s1">"Số lượng phải lớn hơn 0."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> data </span><span class="s7">=</span><span class="s1"> </span><span class="s16">DB</span><span class="s7">.</span><span class="s1">data</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> newTxn </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>id</span><span class="s7">:</span><span class="s1"> uuid</span><span class="s7">(),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>productId</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>type</span><span class="s7">:</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#t-type'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>qty</span><span class="s7">:</span><span class="s1"> qtyInBoxes</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>date</span><span class="s7">:</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#t-date'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">||</span><span class="s1"> today</span><span class="s7">(),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>lot</span><span class="s7">:</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#t-lot'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">.</span><span class="s1">trim</span><span class="s7">(),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>expiry</span><span class="s7">:</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#t-exp'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>wh</span><span class="s7">:</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#t-warehouse'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">.</span><span class="s1">trim</span><span class="s7">(),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>note</span><span class="s7">:</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#t-note'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">.</span><span class="s1">trim</span><span class="s7">(),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>data</span><span class="s7">.</span><span class="s1">txns</span><span class="s7">.</span><span class="s1">push</span><span class="s7">(</span><span class="s1">newTxn</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s16">DB</span><span class="s7">.</span><span class="s1">data </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>toast</span><span class="s7">(</span><span class="s1">"Đã thêm giao dịch."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#txn-form'</span><span class="s7">).</span><span class="s1">reset</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#t-date'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> today</span><span class="s7">();</span><span class="s1"> </span><span class="s18">// Reset date to today</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>undoLastTransaction</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s10">this</span><span class="s7">.</span><span class="s1">txns</span><span class="s7">.</span><span class="s1">length </span><span class="s7">===</span><span class="s1"> </span><span class="s17">0</span><span class="s7">)</span><span class="s1"> </span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s4"> </span><span class="s7">(!</span><span class="s4">confirm</span><span class="s7">(</span><span class="s1">"Bạn có chắc muốn hoàn tác (xóa) giao dịch cuối cùng?"</span><span class="s7">))</span><span class="s4"> </span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> data </span><span class="s7">=</span><span class="s1"> </span><span class="s16">DB</span><span class="s7">.</span><span class="s1">data</span><span class="s7">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Find the latest transaction to remove</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>data</span><span class="s7">.</span><span class="s1">txns</span><span class="s7">.</span><span class="s1">sort</span><span class="s7">((</span><span class="s1">a</span><span class="s7">,</span><span class="s1"> b</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">(</span><span class="s1">b</span><span class="s7">.</span><span class="s1">date </span><span class="s7">+</span><span class="s1"> b</span><span class="s7">.</span><span class="s1">id</span><span class="s7">).</span><span class="s1">localeCompare</span><span class="s7">(</span><span class="s1">a</span><span class="s7">.</span><span class="s1">date </span><span class="s7">+</span><span class="s1"> a</span><span class="s7">.</span><span class="s1">id</span><span class="s7">));</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span>data</span><span class="s7">.</span><span class="s4">txns</span><span class="s7">.</span><span class="s4">shift</span><span class="s7">();</span><span class="s4"> </span><span class="s1">// Remove the first element which is the latest</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s16">DB</span><span class="s7">.</span><span class="s1">data </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>toast</span><span class="s7">(</span><span class="s1">"Đã hoàn tác giao dịch cuối cùng."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>startCount</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> name </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#c-name'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">||</span><span class="s1"> </span><span class="s9">'Kiểm kê'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> date </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#c-date'</span><span class="s7">).</span><span class="s1">value </span><span class="s7">||</span><span class="s1"> today</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> note </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#c-note'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">countSession </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> name</span><span class="s7">,</span><span class="s1"> date</span><span class="s7">,</span><span class="s1"> note</span><span class="s7">,</span><span class="s1"> items</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[]</span><span class="s1"> </span><span class="s7">};</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s4"> tbody </span><span class="s7">=</span><span class="s4"> $</span><span class="s7">(</span><span class="s1">'#count-table tbody'</span><span class="s7">);</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">countSession</span><span class="s7">.</span><span class="s1">items </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">products</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">p </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> stock </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">calculateStock</span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">id</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>productId</span><span class="s7">:</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">id</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>sku</span><span class="s7">:</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">sku</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>name</span><span class="s7">:</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">name</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>systemStock</span><span class="s7">:</span><span class="s1"> stock</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>tbody</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">countSession</span><span class="s7">.</span><span class="s1">items</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">item </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s9">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;tr&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">item</span><span class="s7">.</span><span class="s4">sku</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">item</span><span class="s7">.</span><span class="s4">name</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">money</span><span class="s7">(</span><span class="s4">item</span><span class="s7">.</span><span class="s4">systemStock</span><span class="s7">)}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;td&gt;&lt;input type="number" class="count-input" data-id="</span><span class="s7">${</span><span class="s4">item</span><span class="s7">.</span><span class="s4">productId</span><span class="s7">}</span><span class="s1">" value="</span><span class="s7">${</span><span class="s4">item</span><span class="s7">.</span><span class="s4">systemStock</span><span class="s7">}</span><span class="s1">"&gt;&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;td class="count-diff" data-id="</span><span class="s7">${</span><span class="s4">item</span><span class="s7">.</span><span class="s4">productId</span><span class="s7">}</span><span class="s1">"&gt;0&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/tr&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">        </span>`</span><span class="s7">).</span><span class="s4">join</span><span class="s7">(</span><span class="s1">''</span><span class="s7">);</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s1">'#count-title'</span><span class="s7">).</span><span class="s4">textContent </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`Phiếu kiểm: </span><span class="s7">${</span><span class="s4">name</span><span class="s7">}</span><span class="s1"> - </span><span class="s7">${</span><span class="s4">date</span><span class="s7">}</span><span class="s1">`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#count-panel'</span><span class="s7">).</span><span class="s1">style</span><span class="s7">.</span><span class="s1">display </span><span class="s7">=</span><span class="s1"> </span><span class="s9">'block'</span><span class="s7">;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Add listeners for count inputs</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$$</span><span class="s7">(</span><span class="s9">'.count-input'</span><span class="s7">).</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">input </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>input</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'input'</span><span class="s7">,</span><span class="s1"> e </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> id </span><span class="s7">=</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">id</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> sessionItem </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">countSession</span><span class="s7">.</span><span class="s1">items</span><span class="s7">.</span><span class="s1">find</span><span class="s7">(</span><span class="s1">i </span><span class="s7">=&gt;</span><span class="s1"> i</span><span class="s7">.</span><span class="s1">productId </span><span class="s7">===</span><span class="s1"> id</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> counted </span><span class="s7">=</span><span class="s1"> </span><span class="s16">Number</span><span class="s7">(</span><span class="s1">e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">value</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s17">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> diff </span><span class="s7">=</span><span class="s1"> counted </span><span class="s7">-</span><span class="s1"> sessionItem</span><span class="s7">.</span><span class="s1">systemStock</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>$</span><span class="s7">(</span><span class="s9">`.count-diff[data-id="</span><span class="s7">${</span><span class="s1">id</span><span class="s7">}</span><span class="s9">"]`</span><span class="s7">).</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> money</span><span class="s7">(</span><span class="s1">diff</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>cancelCount</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s4"> </span><span class="s7">(!</span><span class="s4">confirm</span><span class="s7">(</span><span class="s1">"Hủy phiên kiểm kê này?"</span><span class="s7">))</span><span class="s4"> </span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">countSession </span><span class="s7">=</span><span class="s1"> </span><span class="s10">null</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#count-panel'</span><span class="s7">).</span><span class="s1">style</span><span class="s7">.</span><span class="s1">display </span><span class="s7">=</span><span class="s1"> </span><span class="s9">'none'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>commitCount</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s4"> </span><span class="s7">(!</span><span class="s10">this</span><span class="s7">.</span><span class="s4">state</span><span class="s7">.</span><span class="s4">countSession </span><span class="s7">||</span><span class="s4"> </span><span class="s7">!</span><span class="s4">confirm</span><span class="s7">(</span><span class="s1">"Ghi nhận chênh lệch? Thao tác này sẽ tạo các giao dịch ĐIỀU CHỈNH (ADJ) cho các sản phẩm có chênh lệch."</span><span class="s7">))</span><span class="s4"> </span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> data </span><span class="s7">=</span><span class="s1"> </span><span class="s16">DB</span><span class="s7">.</span><span class="s1">data</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">let</span><span class="s1"> adjCount </span><span class="s7">=</span><span class="s1"> </span><span class="s17">0</span><span class="s7">;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$$</span><span class="s7">(</span><span class="s9">'.count-input'</span><span class="s7">).</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">input </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> id </span><span class="s7">=</span><span class="s1"> input</span><span class="s7">.</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">id</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> sessionItem </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">countSession</span><span class="s7">.</span><span class="s1">items</span><span class="s7">.</span><span class="s1">find</span><span class="s7">(</span><span class="s1">i </span><span class="s7">=&gt;</span><span class="s1"> i</span><span class="s7">.</span><span class="s1">productId </span><span class="s7">===</span><span class="s1"> id</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> counted </span><span class="s7">=</span><span class="s1"> </span><span class="s16">Number</span><span class="s7">(</span><span class="s1">input</span><span class="s7">.</span><span class="s1">value</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s17">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> diff </span><span class="s7">=</span><span class="s1"> counted </span><span class="s7">-</span><span class="s1"> sessionItem</span><span class="s7">.</span><span class="s1">systemStock</span><span class="s7">;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">diff </span><span class="s7">!==</span><span class="s1"> </span><span class="s17">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>adjCount</span><span class="s7">++;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> newTxn </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>id</span><span class="s7">:</span><span class="s1"> uuid</span><span class="s7">(),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>productId</span><span class="s7">:</span><span class="s1"> id</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>type</span><span class="s7">:</span><span class="s1"> </span><span class="s9">'ADJ'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>qty</span><span class="s7">:</span><span class="s1"> counted</span><span class="s7">,</span><span class="s1"> </span><span class="s18">// The new stock level</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>date</span><span class="s7">:</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">countSession</span><span class="s7">.</span><span class="s1">date</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>note</span><span class="s7">:</span><span class="s1"> </span><span class="s9">`Kiểm kê: </span><span class="s7">${</span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">countSession</span><span class="s7">.</span><span class="s1">name</span><span class="s7">}</span><span class="s9">. Chênh lệch </span><span class="s7">${</span><span class="s1">diff </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s17">0</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> </span><span class="s9">'+'</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s9">''</span><span class="s7">}${</span><span class="s1">diff</span><span class="s7">}</span><span class="s9">`</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>data</span><span class="s7">.</span><span class="s1">txns</span><span class="s7">.</span><span class="s1">push</span><span class="s7">(</span><span class="s1">newTxn</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">adjCount </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s17">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s16">DB</span><span class="s7">.</span><span class="s1">data </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>toast</span><span class="s7">(</span><span class="s1">`Đã tạo </span><span class="s7">${</span><span class="s4">adjCount</span><span class="s7">}</span><span class="s1"> giao dịch điều chỉnh.`</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>toast</span><span class="s7">(</span><span class="s1">"Không có chênh lệch nào được ghi nhận."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">countSession </span><span class="s7">=</span><span class="s1"> </span><span class="s10">null</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s9">'#count-panel'</span><span class="s7">).</span><span class="s1">style</span><span class="s7">.</span><span class="s1">display </span><span class="s7">=</span><span class="s1"> </span><span class="s9">'none'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>runReport</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> </span><span class="s10">from</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#r-from'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> to </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#r-to'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> wh </span><span class="s7">=</span><span class="s1"> $</span><span class="s7">(</span><span class="s9">'#r-warehouse'</span><span class="s7">).</span><span class="s1">value</span><span class="s7">;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s10">from</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s7">!</span><span class="s1">to</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>toast</span><span class="s7">(</span><span class="s1">"Vui lòng chọn Từ ngày và Đến ngày."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> reportData </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">products</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">p </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> txnsInPeriod </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">txns</span><span class="s7">.</span><span class="s1">filter</span><span class="s7">(</span><span class="s1">t </span><span class="s7">=&gt;</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">productId </span><span class="s7">===</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">id </span><span class="s7">&amp;&amp;</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">date </span><span class="s7">&gt;=</span><span class="s1"> </span><span class="s10">from</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">date </span><span class="s7">&lt;=</span><span class="s1"> to </span><span class="s7">&amp;&amp;</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">wh </span><span class="s7">||</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">wh </span><span class="s7">===</span><span class="s1"> wh</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> stockStart </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">calculateStock</span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">id</span><span class="s7">,</span><span class="s1"> </span><span class="s10">from</span><span class="s1"> </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s9">"0000-00-00"</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s16">Date</span><span class="s7">(</span><span class="s10">new</span><span class="s1"> </span><span class="s16">Date</span><span class="s7">(</span><span class="s10">from</span><span class="s7">)</span><span class="s1"> </span><span class="s7">-</span><span class="s1"> </span><span class="s17">1</span><span class="s7">).</span><span class="s1">toISOString</span><span class="s7">().</span><span class="s1">slice</span><span class="s7">(</span><span class="s17">0</span><span class="s7">,</span><span class="s17">10</span><span class="s7">)</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s10">null</span><span class="s7">);</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">let</span><span class="s1"> totalIn </span><span class="s7">=</span><span class="s1"> </span><span class="s17">0</span><span class="s7">,</span><span class="s1"> totalOut </span><span class="s7">=</span><span class="s1"> </span><span class="s17">0</span><span class="s7">,</span><span class="s1"> totalAdj </span><span class="s7">=</span><span class="s1"> </span><span class="s17">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>txnsInPeriod</span><span class="s7">.</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">t </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> qty </span><span class="s7">=</span><span class="s1"> </span><span class="s16">Number</span><span class="s7">(</span><span class="s1">t</span><span class="s7">.</span><span class="s1">qty</span><span class="s7">)</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s17">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">t</span><span class="s7">.</span><span class="s1">type </span><span class="s7">===</span><span class="s1"> </span><span class="s9">'IN'</span><span class="s7">)</span><span class="s1"> totalIn </span><span class="s7">+=</span><span class="s1"> qty</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">else</span><span class="s1"> </span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">t</span><span class="s7">.</span><span class="s1">type </span><span class="s7">===</span><span class="s1"> </span><span class="s9">'OUT'</span><span class="s7">)</span><span class="s1"> totalOut </span><span class="s7">+=</span><span class="s1"> qty</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">else</span><span class="s1"> </span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">t</span><span class="s7">.</span><span class="s1">type </span><span class="s7">===</span><span class="s1"> </span><span class="s9">'ADJ'</span><span class="s7">)</span><span class="s1"> totalAdj </span><span class="s7">+=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">qty </span><span class="s7">-</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">calculateStock</span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">id</span><span class="s7">,</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">date </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s9">"0000-00-00"</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s16">Date</span><span class="s7">(</span><span class="s10">new</span><span class="s1"> </span><span class="s16">Date</span><span class="s7">(</span><span class="s1">t</span><span class="s7">.</span><span class="s1">date</span><span class="s7">)</span><span class="s1"> </span><span class="s7">-</span><span class="s1"> </span><span class="s17">1</span><span class="s7">).</span><span class="s1">toISOString</span><span class="s7">().</span><span class="s1">slice</span><span class="s7">(</span><span class="s17">0</span><span class="s7">,</span><span class="s17">10</span><span class="s7">)</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s10">null</span><span class="s7">));</span><span class="s1"> </span><span class="s18">// Adjustment is the difference</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> stockEnd </span><span class="s7">=</span><span class="s1"> stockStart </span><span class="s7">+</span><span class="s1"> totalIn </span><span class="s7">-</span><span class="s1"> totalOut </span><span class="s7">+</span><span class="s1"> totalAdj</span><span class="s7">;</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>sku</span><span class="s7">:</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">sku</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>name</span><span class="s7">:</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">name</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>stockStart</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>totalIn</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>totalOut</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>totalAdj</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>stockEnd</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s4"> tbody </span><span class="s7">=</span><span class="s4"> $</span><span class="s7">(</span><span class="s1">'#report-table tbody'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>tbody</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> reportData</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">r </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s9">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;tr&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">r</span><span class="s7">.</span><span class="s4">sku</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">r</span><span class="s7">.</span><span class="s4">name</span><span class="s7">}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">money</span><span class="s7">(</span><span class="s4">r</span><span class="s7">.</span><span class="s4">stockStart</span><span class="s7">)}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">money</span><span class="s7">(</span><span class="s4">r</span><span class="s7">.</span><span class="s4">totalIn</span><span class="s7">)}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">money</span><span class="s7">(</span><span class="s4">r</span><span class="s7">.</span><span class="s4">totalOut</span><span class="s7">)}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">money</span><span class="s7">(</span><span class="s4">r</span><span class="s7">.</span><span class="s4">totalAdj</span><span class="s7">)}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;td&gt;</span><span class="s7">${</span><span class="s4">money</span><span class="s7">(</span><span class="s4">r</span><span class="s7">.</span><span class="s4">stockEnd</span><span class="s7">)}</span><span class="s1">&lt;/td&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/tr&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">        </span>`</span><span class="s7">).</span><span class="s4">join</span><span class="s7">(</span><span class="s1">''</span><span class="s7">);</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>$</span><span class="s7">(</span><span class="s1">'#report-result-panel'</span><span class="s7">).</span><span class="s4">style</span><span class="s7">.</span><span class="s4">display </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'block'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">lastReport </span><span class="s7">=</span><span class="s1"> reportData</span><span class="s7">;</span><span class="s1"> </span><span class="s18">// Save for export</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">// --- IMPORT/EXPORT ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>exportToCsv</span><span class="s7">(</span><span class="s1">filename</span><span class="s7">,</span><span class="s1"> rows</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> header </span><span class="s7">=</span><span class="s1"> </span><span class="s16">Object</span><span class="s7">.</span><span class="s1">keys</span><span class="s7">(</span><span class="s1">rows</span><span class="s7">[</span><span class="s17">0</span><span class="s7">]).</span><span class="s1">join</span><span class="s7">(</span><span class="s9">','</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> csvContent </span><span class="s7">=</span><span class="s1"> rows</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">row </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s16">Object</span><span class="s7">.</span><span class="s1">values</span><span class="s7">(</span><span class="s1">row</span><span class="s7">).</span><span class="s1">join</span><span class="s7">(</span><span class="s9">','</span><span class="s7">)).</span><span class="s1">join</span><span class="s7">(</span><span class="s9">'\n'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> blob </span><span class="s7">=</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s16">Blob</span><span class="s7">([</span><span class="s9">"\uFEFF"</span><span class="s1"> </span><span class="s7">+</span><span class="s1"> header </span><span class="s7">+</span><span class="s1"> </span><span class="s9">'\n'</span><span class="s1"> </span><span class="s7">+</span><span class="s1"> csvContent</span><span class="s7">],</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> type</span><span class="s7">:</span><span class="s1"> </span><span class="s9">'text/csv;charset=utf-8;'</span><span class="s1"> </span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> link </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s9">"a"</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>link</span><span class="s7">.</span><span class="s1">href </span><span class="s7">=</span><span class="s1"> </span><span class="s16">URL</span><span class="s7">.</span><span class="s1">createObjectURL</span><span class="s7">(</span><span class="s1">blob</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>link</span><span class="s7">.</span><span class="s1">download </span><span class="s7">=</span><span class="s1"> filename</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>link</span><span class="s7">.</span><span class="s1">click</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>exportProductsToCsv</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s10">this</span><span class="s7">.</span><span class="s1">products</span><span class="s7">.</span><span class="s1">length </span><span class="s7">===</span><span class="s1"> </span><span class="s17">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>toast</span><span class="s7">(</span><span class="s1">"Không có sản phẩm để xuất."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">exportToCsv</span><span class="s7">(</span><span class="s9">'products.csv'</span><span class="s7">,</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">products</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>exportTxnsToCsv</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s10">this</span><span class="s7">.</span><span class="s1">txns</span><span class="s7">.</span><span class="s1">length </span><span class="s7">===</span><span class="s1"> </span><span class="s17">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>toast</span><span class="s7">(</span><span class="s1">"Không có giao dịch để xuất."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// To make it more useful, we join product info</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> dataToExport </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">txns</span><span class="s7">.</span><span class="s1">map</span><span class="s7">(</span><span class="s1">t </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> p </span><span class="s7">=</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">getProduct</span><span class="s7">(</span><span class="s1">t</span><span class="s7">.</span><span class="s1">productId</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>date</span><span class="s7">:</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">date</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>type</span><span class="s7">:</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">type</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>sku</span><span class="s7">:</span><span class="s1"> p </span><span class="s7">?</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">sku </span><span class="s7">:</span><span class="s1"> </span><span class="s9">'N/A'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>product_name</span><span class="s7">:</span><span class="s1"> p </span><span class="s7">?</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">name </span><span class="s7">:</span><span class="s1"> </span><span class="s9">'N/A'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>quantity_boxes</span><span class="s7">:</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">qty</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>lot</span><span class="s7">:</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">lot</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>expiry</span><span class="s7">:</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">expiry</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>warehouse</span><span class="s7">:</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">wh</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>note</span><span class="s7">:</span><span class="s1"> t</span><span class="s7">.</span><span class="s1">note</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">exportToCsv</span><span class="s7">(</span><span class="s9">'transactions.csv'</span><span class="s7">,</span><span class="s1"> dataToExport</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>exportReportToCsv</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">lastReport </span><span class="s7">||</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">lastReport</span><span class="s7">.</span><span class="s1">length </span><span class="s7">===</span><span class="s1"> </span><span class="s17">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>toast</span><span class="s7">(</span><span class="s1">"Chưa có báo cáo để xuất. Vui lòng chạy báo cáo trước."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">this</span><span class="s7">.</span><span class="s1">exportToCsv</span><span class="s7">(</span><span class="s9">'inventory_report.csv'</span><span class="s7">,</span><span class="s1"> </span><span class="s10">this</span><span class="s7">.</span><span class="s1">state</span><span class="s7">.</span><span class="s1">lastReport</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>exportJson</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> dataStr </span><span class="s7">=</span><span class="s1"> </span><span class="s16">JSON</span><span class="s7">.</span><span class="s1">stringify</span><span class="s7">(</span><span class="s16">DB</span><span class="s7">.</span><span class="s1">data</span><span class="s7">,</span><span class="s1"> </span><span class="s10">null</span><span class="s7">,</span><span class="s1"> </span><span class="s17">2</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> blob </span><span class="s7">=</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s16">Blob</span><span class="s7">([</span><span class="s1">dataStr</span><span class="s7">],</span><span class="s1"> </span><span class="s7">{</span><span class="s1">type</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"application/json"</span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> url </span><span class="s7">=</span><span class="s1"> </span><span class="s16">URL</span><span class="s7">.</span><span class="s1">createObjectURL</span><span class="s7">(</span><span class="s1">blob</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> a </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s9">'a'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>a</span><span class="s7">.</span><span class="s1">href </span><span class="s7">=</span><span class="s1"> url</span><span class="s7">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>a</span><span class="s7">.</span><span class="s4">download </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`golden-gloves-backup-</span><span class="s7">${</span><span class="s4">today</span><span class="s7">()}</span><span class="s1">.json`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>a</span><span class="s7">.</span><span class="s1">click</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s16">URL</span><span class="s7">.</span><span class="s1">revokeObjectURL</span><span class="s7">(</span><span class="s1">url</span><span class="s7">);</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>toast</span><span class="s7">(</span><span class="s1">"Đã xuất tệp sao lưu JSON."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>importJson</span><span class="s7">(</span><span class="s1">event</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> file </span><span class="s7">=</span><span class="s1"> event</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">files</span><span class="s7">[</span><span class="s17">0</span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">file</span><span class="s7">)</span><span class="s1"> </span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s4"> </span><span class="s7">(!</span><span class="s4">confirm</span><span class="s7">(</span><span class="s1">"Phục hồi từ tệp JSON sẽ GHI ĐÈ toàn bộ dữ liệu hiện tại. Bạn có chắc chắn?"</span><span class="s7">))</span><span class="s4"> </span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> reader </span><span class="s7">=</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s16">FileReader</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>reader</span><span class="s7">.</span><span class="s1">onload </span><span class="s7">=</span><span class="s1"> e </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">try</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> importedData </span><span class="s7">=</span><span class="s1"> </span><span class="s16">JSON</span><span class="s7">.</span><span class="s1">parse</span><span class="s7">(</span><span class="s1">e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">result</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">importedData</span><span class="s7">.</span><span class="s1">products </span><span class="s7">&amp;&amp;</span><span class="s1"> importedData</span><span class="s7">.</span><span class="s1">txns</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s16">DB</span><span class="s7">.</span><span class="s1">data </span><span class="s7">=</span><span class="s1"> importedData</span><span class="s7">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>toast</span><span class="s7">(</span><span class="s1">"Đã phục hồi dữ liệu thành công."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>toast</span><span class="s7">(</span><span class="s1">"Lỗi: Tệp JSON không hợp lệ."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">catch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">err</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                </span>toast</span><span class="s7">(</span><span class="s1">"Lỗi: Không thể đọc tệp JSON."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>console</span><span class="s7">.</span><span class="s1">error</span><span class="s7">(</span><span class="s1">err</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>reader</span><span class="s7">.</span><span class="s1">readAsText</span><span class="s7">(</span><span class="s1">file</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>event</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">value </span><span class="s7">=</span><span class="s1"> </span><span class="s9">''</span><span class="s7">;</span><span class="s1"> </span><span class="s18">// Reset input</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">// --- SETTINGS ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>seedData</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s4"> </span><span class="s7">(!</span><span class="s4">confirm</span><span class="s7">(</span><span class="s1">"Tạo dữ liệu mẫu? Dữ liệu hiện tại sẽ bị xóa."</span><span class="s7">))</span><span class="s4"> </span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> sampleData </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>products</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1">id</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"p1"</span><span class="s7">,</span><span class="s1"> sku</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"NBLS"</span><span class="s7">,</span><span class="s1"> name</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Găng Nitrile Xanh Size S"</span><span class="s7">,</span><span class="s1"> material</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Nitrile"</span><span class="s7">,</span><span class="s1"> size</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"S"</span><span class="s7">,</span><span class="s1"> color</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Xanh"</span><span class="s7">,</span><span class="s1"> thick</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"4.5"</span><span class="s7">,</span><span class="s1"> reorder</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"50"</span><span class="s7">,</span><span class="s1"> perbox</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"100"</span><span class="s7">,</span><span class="s1"> percarton</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"10"</span><span class="s7">,</span><span class="s1"> cost</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"55000"</span><span class="s7">,</span><span class="s1"> price</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"75000"</span><span class="s7">,</span><span class="s1"> note</span><span class="s7">:</span><span class="s1"> </span><span class="s9">""</span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1">id</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"p2"</span><span class="s7">,</span><span class="s1"> sku</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"NBLM"</span><span class="s7">,</span><span class="s1"> name</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Găng Nitrile Xanh Size M"</span><span class="s7">,</span><span class="s1"> material</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Nitrile"</span><span class="s7">,</span><span class="s1"> size</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"M"</span><span class="s7">,</span><span class="s1"> color</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Xanh"</span><span class="s7">,</span><span class="s1"> thick</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"4.5"</span><span class="s7">,</span><span class="s1"> reorder</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"100"</span><span class="s7">,</span><span class="s1"> perbox</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"100"</span><span class="s7">,</span><span class="s1"> percarton</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"10"</span><span class="s7">,</span><span class="s1"> cost</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"55000"</span><span class="s7">,</span><span class="s1"> price</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"75000"</span><span class="s7">,</span><span class="s1"> note</span><span class="s7">:</span><span class="s1"> </span><span class="s9">""</span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1">id</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"p3"</span><span class="s7">,</span><span class="s1"> sku</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"LWHL"</span><span class="s7">,</span><span class="s1"> name</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Găng Latex Trắng Size L"</span><span class="s7">,</span><span class="s1"> material</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Latex"</span><span class="s7">,</span><span class="s1"> size</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"L"</span><span class="s7">,</span><span class="s1"> color</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Trắng"</span><span class="s7">,</span><span class="s1"> thick</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"5.0"</span><span class="s7">,</span><span class="s1"> reorder</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"20"</span><span class="s7">,</span><span class="s1"> perbox</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"100"</span><span class="s7">,</span><span class="s1"> percarton</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"10"</span><span class="s7">,</span><span class="s1"> cost</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"50000"</span><span class="s7">,</span><span class="s1"> price</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"70000"</span><span class="s7">,</span><span class="s1"> note</span><span class="s7">:</span><span class="s1"> </span><span class="s9">""</span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1">id</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"p4"</span><span class="s7">,</span><span class="s1"> sku</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"NBKX"</span><span class="s7">,</span><span class="s1"> name</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Găng Nitrile Đen Size XL"</span><span class="s7">,</span><span class="s1"> material</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Nitrile"</span><span class="s7">,</span><span class="s1"> size</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"XL"</span><span class="s7">,</span><span class="s1"> color</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Đen"</span><span class="s7">,</span><span class="s1"> thick</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"4.0"</span><span class="s7">,</span><span class="s1"> reorder</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"10"</span><span class="s7">,</span><span class="s1"> perbox</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"100"</span><span class="s7">,</span><span class="s1"> percarton</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"10"</span><span class="s7">,</span><span class="s1"> cost</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"60000"</span><span class="s7">,</span><span class="s1"> price</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"85000"</span><span class="s7">,</span><span class="s1"> note</span><span class="s7">:</span><span class="s1"> </span><span class="s9">""</span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>txns</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1">id</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"t1"</span><span class="s7">,</span><span class="s1"> productId</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"p1"</span><span class="s7">,</span><span class="s1"> type</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"IN"</span><span class="s7">,</span><span class="s1"> qty</span><span class="s7">:</span><span class="s1"> </span><span class="s17">100</span><span class="s7">,</span><span class="s1"> date</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"2025-08-01"</span><span class="s7">,</span><span class="s1"> lot</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"L001"</span><span class="s7">,</span><span class="s1"> expiry</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"2027-08-01"</span><span class="s7">,</span><span class="s1"> wh</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Kho A"</span><span class="s7">,</span><span class="s1"> note</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Nhập hàng đầu kỳ"</span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1">id</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"t2"</span><span class="s7">,</span><span class="s1"> productId</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"p2"</span><span class="s7">,</span><span class="s1"> type</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"IN"</span><span class="s7">,</span><span class="s1"> qty</span><span class="s7">:</span><span class="s1"> </span><span class="s17">200</span><span class="s7">,</span><span class="s1"> date</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"2025-08-02"</span><span class="s7">,</span><span class="s1"> lot</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"L002"</span><span class="s7">,</span><span class="s1"> expiry</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"2027-08-02"</span><span class="s7">,</span><span class="s1"> wh</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Kho A"</span><span class="s7">,</span><span class="s1"> note</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Nhập hàng đầu kỳ"</span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1">id</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"t3"</span><span class="s7">,</span><span class="s1"> productId</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"p3"</span><span class="s7">,</span><span class="s1"> type</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"IN"</span><span class="s7">,</span><span class="s1"> qty</span><span class="s7">:</span><span class="s1"> </span><span class="s17">50</span><span class="s7">,</span><span class="s1"> date</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"2025-08-03"</span><span class="s7">,</span><span class="s1"> lot</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"L003"</span><span class="s7">,</span><span class="s1"> expiry</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"2026-08-03"</span><span class="s7">,</span><span class="s1"> wh</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Kho B"</span><span class="s7">,</span><span class="s1"> note</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Nhập hàng đầu kỳ"</span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1">id</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"t4"</span><span class="s7">,</span><span class="s1"> productId</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"p2"</span><span class="s7">,</span><span class="s1"> type</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"OUT"</span><span class="s7">,</span><span class="s1"> qty</span><span class="s7">:</span><span class="s1"> </span><span class="s17">20</span><span class="s7">,</span><span class="s1"> date</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"2025-08-10"</span><span class="s7">,</span><span class="s1"> note</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Xuất cho khách X"</span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1">id</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"t5"</span><span class="s7">,</span><span class="s1"> productId</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"p1"</span><span class="s7">,</span><span class="s1"> type</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"OUT"</span><span class="s7">,</span><span class="s1"> qty</span><span class="s7">:</span><span class="s1"> </span><span class="s17">10</span><span class="s7">,</span><span class="s1"> date</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"2025-08-12"</span><span class="s7">,</span><span class="s1"> note</span><span class="s7">:</span><span class="s1"> </span><span class="s9">"Xuất cho khách Y"</span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>settings</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s16">DB</span><span class="s7">.</span><span class="s1">data </span><span class="s7">=</span><span class="s1"> sampleData</span><span class="s7">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>toast</span><span class="s7">(</span><span class="s1">"Đã tạo dữ liệu mẫu thành công."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">},</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>resetData</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">if</span><span class="s4"> </span><span class="s7">(!</span><span class="s4">confirm</span><span class="s7">(</span><span class="s1">"CẢNH BÁO: Thao tác này sẽ XÓA TOÀN BỘ dữ liệu sản phẩm và giao dịch. Không thể hoàn tác. Bạn có chắc chắn muốn tiếp tục?"</span><span class="s7">))</span><span class="s4"> </span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s16">DB</span><span class="s7">.</span><span class="s1">reset</span><span class="s7">();</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>toast</span><span class="s7">(</span><span class="s1">"Đã xóa toàn bộ dữ liệu."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">};</span></p>
<p class="p8"><span class="s13"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- START THE APP ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>document</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s9">'DOMContentLoaded'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s16">App</span><span class="s7">.</span><span class="s1">init</span><span class="s7">());</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s13"></span><br></p>
</body>
</html>
